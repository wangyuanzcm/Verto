# è‡ªåŠ¨åŒ–è„šæœ¬é›†åˆ

## ğŸ“‹ è„šæœ¬æ¦‚è§ˆ

æœ¬æ–‡æ¡£åŒ…å«äº†Verto DevOpsç¯å¢ƒçš„æ‰€æœ‰è‡ªåŠ¨åŒ–è„šæœ¬ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿéƒ¨ç½²ã€ç®¡ç†å’Œç»´æŠ¤æ•´ä¸ªå¼€å‘ç¯å¢ƒã€‚

### ğŸš€ å¿«é€Ÿå¯¼èˆª
- [ç¯å¢ƒç®¡ç†è„šæœ¬](#ç¯å¢ƒç®¡ç†è„šæœ¬)
- [éƒ¨ç½²è„šæœ¬](#éƒ¨ç½²è„šæœ¬)
- [ç›‘æ§è„šæœ¬](#ç›‘æ§è„šæœ¬)
- [å¤‡ä»½è„šæœ¬](#å¤‡ä»½è„šæœ¬)
- [æ¸…ç†è„šæœ¬](#æ¸…ç†è„šæœ¬)
- [å¼€å‘è¾…åŠ©è„šæœ¬](#å¼€å‘è¾…åŠ©è„šæœ¬)

---

## ğŸ”§ ç¯å¢ƒç®¡ç†è„šæœ¬

### 1. ç¯å¢ƒåˆå§‹åŒ–è„šæœ¬ (init-environment.bat)

```batch
@echo off
setlocal enabledelayedexpansion

echo ========================================
echo Verto DevOps ç¯å¢ƒåˆå§‹åŒ–è„šæœ¬
echo ========================================

:: æ£€æŸ¥ç®¡ç†å‘˜æƒé™
net session >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ è¯·ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œæ­¤è„šæœ¬
    pause
    exit /b 1
)

echo.
echo 1. æ£€æŸ¥ç³»ç»Ÿè¦æ±‚...

:: æ£€æŸ¥Docker
docker --version >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ Dockeræœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£…Docker Desktop
    pause
    exit /b 1
) else (
    echo âœ… Dockerå·²å®‰è£…
)

:: æ£€æŸ¥Docker Compose
docker-compose --version >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ Docker Composeæœªå®‰è£…
    pause
    exit /b 1
) else (
    echo âœ… Docker Composeå·²å®‰è£…
)

echo.
echo 2. åˆ›å»ºå¿…è¦ç›®å½•...
if not exist "gitlab\config" mkdir gitlab\config
if not exist "gitlab\logs" mkdir gitlab\logs
if not exist "gitlab\data" mkdir gitlab\data
if not exist "jenkins_home" mkdir jenkins_home
if not exist "mysql\data" mkdir mysql\data
if not exist "redis\data" mkdir redis\data
echo âœ… ç›®å½•åˆ›å»ºå®Œæˆ

echo.
echo 3. è®¾ç½®ç›®å½•æƒé™...
icacls gitlab /grant Everyone:(OI)(CI)F /T >nul 2>&1
icacls jenkins_home /grant Everyone:(OI)(CI)F /T >nul 2>&1
icacls mysql /grant Everyone:(OI)(CI)F /T >nul 2>&1
icacls redis /grant Everyone:(OI)(CI)F /T >nul 2>&1
echo âœ… æƒé™è®¾ç½®å®Œæˆ

echo.
echo 4. æ£€æŸ¥ç¯å¢ƒå˜é‡æ–‡ä»¶...
if not exist ".env.devops" (
    echo âŒ .env.devopsæ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ­£åœ¨åˆ›å»ºé»˜è®¤é…ç½®...
    call :create_env_file
) else (
    echo âœ… ç¯å¢ƒå˜é‡æ–‡ä»¶å·²å­˜åœ¨
)

echo.
echo 5. éªŒè¯é…ç½®æ–‡ä»¶...
docker-compose -f docker-compose-devops.yml config >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ Docker Composeé…ç½®æ–‡ä»¶æœ‰è¯¯
    pause
    exit /b 1
) else (
    echo âœ… é…ç½®æ–‡ä»¶éªŒè¯é€šè¿‡
)

echo.
echo 6. æ‹‰å–Dockeré•œåƒ...
echo è¿™å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…...
docker-compose -f docker-compose-devops.yml pull
if %errorlevel% neq 0 (
    echo âŒ é•œåƒæ‹‰å–å¤±è´¥
    pause
    exit /b 1
) else (
    echo âœ… é•œåƒæ‹‰å–å®Œæˆ
)

echo.
echo ========================================
echo ğŸ‰ ç¯å¢ƒåˆå§‹åŒ–å®Œæˆï¼
echo ========================================
echo.
echo ä¸‹ä¸€æ­¥æ“ä½œï¼š
echo 1. è¿è¡Œ start-devops.bat å¯åŠ¨æœåŠ¡
echo 2. ç­‰å¾…æœåŠ¡å¯åŠ¨å®Œæˆï¼ˆçº¦3-5åˆ†é’Ÿï¼‰
echo 3. è®¿é—® http://localhost:8080 (GitLab)
echo 4. è®¿é—® http://localhost:8081 (Jenkins)
echo.
pause
exit /b 0

:create_env_file
echo # Verto DevOps ç¯å¢ƒå˜é‡é…ç½® > .env.devops
echo. >> .env.devops
echo # MySQL é…ç½® >> .env.devops
echo MYSQL_ROOT_PASSWORD=Verto123456 >> .env.devops
echo MYSQL_DATABASE=verto >> .env.devops
echo MYSQL_USER=verto >> .env.devops
echo MYSQL_PASSWORD=Verto123456 >> .env.devops
echo. >> .env.devops
echo # GitLab é…ç½® >> .env.devops
echo GITLAB_HTTP_PORT=8080 >> .env.devops
echo GITLAB_HTTPS_PORT=8443 >> .env.devops
echo GITLAB_SSH_PORT=2222 >> .env.devops
echo. >> .env.devops
echo # Jenkins é…ç½® >> .env.devops
echo JENKINS_HTTP_PORT=8081 >> .env.devops
echo JENKINS_AGENT_PORT=50000 >> .env.devops
echo. >> .env.devops
echo # Redis é…ç½® >> .env.devops
echo REDIS_PORT=6379 >> .env.devops
echo âœ… é»˜è®¤ç¯å¢ƒå˜é‡æ–‡ä»¶å·²åˆ›å»º
goto :eof
```

### 2. ç¯å¢ƒæ£€æŸ¥è„šæœ¬ (check-environment.bat)

```batch
@echo off
setlocal enabledelayedexpansion

echo ========================================
echo Verto DevOps ç¯å¢ƒæ£€æŸ¥è„šæœ¬
echo ========================================

set "error_count=0"

echo.
echo ğŸ” ç³»ç»Ÿç¯å¢ƒæ£€æŸ¥...

:: æ£€æŸ¥æ“ä½œç³»ç»Ÿ
for /f "tokens=4-5 delims=. " %%i in ('ver') do set VERSION=%%i.%%j
echo æ“ä½œç³»ç»Ÿç‰ˆæœ¬: %VERSION%

:: æ£€æŸ¥å†…å­˜
for /f "skip=1" %%p in ('wmic computersystem get TotalPhysicalMemory') do (
    set /a memory_gb=%%p/1024/1024/1024
    goto :memory_done
)
:memory_done
echo ç³»ç»Ÿå†…å­˜: %memory_gb% GB
if %memory_gb% lss 8 (
    echo âš ï¸  è­¦å‘Š: å»ºè®®è‡³å°‘8GBå†…å­˜
    set /a error_count+=1
)

:: æ£€æŸ¥ç£ç›˜ç©ºé—´
for /f "tokens=3" %%a in ('dir /-c ^| find "bytes free"') do set free_space=%%a
set /a free_gb=%free_space:~0,-3%/1024/1024
echo å¯ç”¨ç£ç›˜ç©ºé—´: %free_gb% GB
if %free_gb% lss 50 (
    echo âŒ é”™è¯¯: ç£ç›˜ç©ºé—´ä¸è¶³ï¼Œè‡³å°‘éœ€è¦50GB
    set /a error_count+=1
)

echo.
echo ğŸ³ Dockerç¯å¢ƒæ£€æŸ¥...

:: æ£€æŸ¥Docker
docker --version >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ Dockeræœªå®‰è£…æˆ–æœªå¯åŠ¨
    set /a error_count+=1
) else (
    for /f "tokens=3" %%a in ('docker --version') do echo Dockerç‰ˆæœ¬: %%a
    echo âœ… Dockerè¿è¡Œæ­£å¸¸
)

:: æ£€æŸ¥Docker Compose
docker-compose --version >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ Docker Composeæœªå®‰è£…
    set /a error_count+=1
) else (
    for /f "tokens=3" %%a in ('docker-compose --version') do echo Docker Composeç‰ˆæœ¬: %%a
    echo âœ… Docker Composeå¯ç”¨
)

:: æ£€æŸ¥Dockerèµ„æº
echo.
echo Dockerèµ„æºé…ç½®:
docker system df

echo.
echo ğŸ”Œ ç«¯å£æ£€æŸ¥...

:: æ£€æŸ¥ç«¯å£å ç”¨
set "ports=8080 8081 3306 6379"
for %%p in (%ports%) do (
    netstat -ano | findstr :%%p >nul 2>&1
    if !errorlevel! equ 0 (
        echo âš ï¸  ç«¯å£ %%p å·²è¢«å ç”¨
        for /f "tokens=5" %%a in ('netstat -ano ^| findstr :%%p ^| findstr LISTENING') do (
            for /f "tokens=1" %%b in ('tasklist /FI "PID eq %%a" /FO CSV /NH') do (
                echo    è¿›ç¨‹: %%b (PID: %%a)
            )
        )
    ) else (
        echo âœ… ç«¯å£ %%p å¯ç”¨
    )
)

echo.
echo ğŸ“ æ–‡ä»¶å’Œç›®å½•æ£€æŸ¥...

:: æ£€æŸ¥å¿…éœ€æ–‡ä»¶
set "required_files=docker-compose-devops.yml .env.devops"
for %%f in (%required_files%) do (
    if exist "%%f" (
        echo âœ… %%f å­˜åœ¨
    ) else (
        echo âŒ %%f ä¸å­˜åœ¨
        set /a error_count+=1
    )
)

:: æ£€æŸ¥ç›®å½•ç»“æ„
set "required_dirs=gitlab\config gitlab\logs gitlab\data jenkins_home"
for %%d in (%required_dirs%) do (
    if exist "%%d" (
        echo âœ… ç›®å½• %%d å­˜åœ¨
    ) else (
        echo âŒ ç›®å½• %%d ä¸å­˜åœ¨
        set /a error_count+=1
    )
)

echo.
echo ğŸŒ ç½‘ç»œè¿æ¥æ£€æŸ¥...

:: æ£€æŸ¥ç½‘ç»œè¿æ¥
ping -n 1 google.com >nul 2>&1
if %errorlevel% equ 0 (
    echo âœ… å¤–ç½‘è¿æ¥æ­£å¸¸
) else (
    echo âš ï¸  å¤–ç½‘è¿æ¥å¼‚å¸¸
)

ping -n 1 docker.io >nul 2>&1
if %errorlevel% equ 0 (
    echo âœ… Docker Hubè¿æ¥æ­£å¸¸
) else (
    echo âš ï¸  Docker Hubè¿æ¥å¼‚å¸¸
)

echo.
echo ========================================
echo æ£€æŸ¥ç»“æœæ±‡æ€»
echo ========================================

if %error_count% equ 0 (
    echo ğŸ‰ æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼ç¯å¢ƒé…ç½®æ­£ç¡®
    echo å¯ä»¥è¿è¡Œ start-devops.bat å¯åŠ¨æœåŠ¡
) else (
    echo âŒ å‘ç° %error_count% ä¸ªé—®é¢˜ï¼Œè¯·å…ˆè§£å†³åå†å¯åŠ¨æœåŠ¡
    echo å‚è€ƒæ–‡æ¡£: ç¯å¢ƒé…ç½®æ£€æŸ¥æ¸…å•.md
)

echo.
pause
```

### 3. æœåŠ¡å¥åº·æ£€æŸ¥è„šæœ¬ (health-check.bat)

```batch
@echo off
setlocal enabledelayedexpansion

echo ========================================
echo Verto DevOps æœåŠ¡å¥åº·æ£€æŸ¥
echo ========================================

set "healthy_count=0"
set "total_services=4"

echo.
echo ğŸ” æ£€æŸ¥å®¹å™¨çŠ¶æ€...

:: æ£€æŸ¥å®¹å™¨è¿è¡ŒçŠ¶æ€
for %%s in (gitlab-ce jenkins verto-mysql verto-redis) do (
    docker ps --format "{{.Names}}" | findstr /C:"%%s" >nul 2>&1
    if !errorlevel! equ 0 (
        echo âœ… %%s å®¹å™¨è¿è¡Œä¸­
        set /a healthy_count+=1
    ) else (
        echo âŒ %%s å®¹å™¨æœªè¿è¡Œ
    )
)

echo.
echo ğŸŒ æ£€æŸ¥æœåŠ¡å¯è®¿é—®æ€§...

:: æ£€æŸ¥GitLab
curl -s -o nul -w "GitLab (8080): %%{http_code}\n" http://localhost:8080 2>nul
if %errorlevel% equ 0 (
    echo âœ… GitLab Webç•Œé¢å¯è®¿é—®
) else (
    echo âŒ GitLab Webç•Œé¢ä¸å¯è®¿é—®
)

:: æ£€æŸ¥Jenkins
curl -s -o nul -w "Jenkins (8081): %%{http_code}\n" http://localhost:8081 2>nul
if %errorlevel% equ 0 (
    echo âœ… Jenkins Webç•Œé¢å¯è®¿é—®
) else (
    echo âŒ Jenkins Webç•Œé¢ä¸å¯è®¿é—®
)

echo.
echo ğŸ’¾ æ£€æŸ¥æ•°æ®åº“è¿æ¥...

:: æ£€æŸ¥MySQLè¿æ¥
docker exec verto-mysql mysqladmin ping -h localhost -u root -pVerto123456 >nul 2>&1
if %errorlevel% equ 0 (
    echo âœ… MySQLæ•°æ®åº“è¿æ¥æ­£å¸¸
) else (
    echo âŒ MySQLæ•°æ®åº“è¿æ¥å¤±è´¥
)

:: æ£€æŸ¥Redisè¿æ¥
docker exec verto-redis redis-cli ping >nul 2>&1
if %errorlevel% equ 0 (
    echo âœ… Redisç¼“å­˜è¿æ¥æ­£å¸¸
) else (
    echo âŒ Redisç¼“å­˜è¿æ¥å¤±è´¥
)

echo.
echo ğŸ“Š èµ„æºä½¿ç”¨æƒ…å†µ...
docker stats --no-stream --format "table {{.Name}}\t{{.CPUPerc}}\t{{.MemUsage}}\t{{.MemPerc}}"

echo.
echo ğŸ“ å­˜å‚¨ä½¿ç”¨æƒ…å†µ...
docker system df

echo.
echo ========================================
echo å¥åº·æ£€æŸ¥ç»“æœ
echo ========================================

set /a health_percentage=(%healthy_count% * 100) / %total_services%
echo æœåŠ¡å¥åº·åº¦: %health_percentage%% (%healthy_count%/%total_services%)

if %health_percentage% geq 100 (
    echo ğŸ‰ æ‰€æœ‰æœåŠ¡è¿è¡Œæ­£å¸¸ï¼
) else if %health_percentage% geq 75 (
    echo âš ï¸  å¤§éƒ¨åˆ†æœåŠ¡æ­£å¸¸ï¼Œè¯·æ£€æŸ¥å¼‚å¸¸æœåŠ¡
) else (
    echo âŒ å¤šä¸ªæœåŠ¡å¼‚å¸¸ï¼Œè¯·æ£€æŸ¥ç³»ç»ŸçŠ¶æ€
)

echo.
echo ğŸ’¡ æç¤ºï¼š
echo - å¦‚æœæœåŠ¡å¼‚å¸¸ï¼Œè¯·æŸ¥çœ‹æ—¥å¿—: docker logs [å®¹å™¨å]
echo - é‡å¯å¼‚å¸¸æœåŠ¡: docker restart [å®¹å™¨å]
echo - æŸ¥çœ‹è¯¦ç»†çŠ¶æ€: devops-status.bat
echo.
pause
```

---

## ğŸš€ éƒ¨ç½²è„šæœ¬

### 1. ä¸€é”®éƒ¨ç½²è„šæœ¬ (deploy-all.bat)

```batch
@echo off
setlocal enabledelayedexpansion

echo ========================================
echo Verto ä¸€é”®éƒ¨ç½²è„šæœ¬
echo ========================================

set "start_time=%time%"

echo.
echo ğŸ“‹ éƒ¨ç½²è®¡åˆ’:
echo 1. ç¯å¢ƒæ£€æŸ¥
echo 2. åœæ­¢ç°æœ‰æœåŠ¡
echo 3. å¤‡ä»½æ•°æ®
echo 4. éƒ¨ç½²DevOpsç¯å¢ƒ
echo 5. éƒ¨ç½²åº”ç”¨æœåŠ¡
echo 6. éªŒè¯éƒ¨ç½²ç»“æœ

echo.
set /p confirm="ç¡®è®¤å¼€å§‹éƒ¨ç½²? (y/N): "
if /i not "%confirm%"=="y" (
    echo éƒ¨ç½²å·²å–æ¶ˆ
    pause
    exit /b 0
)

echo.
echo ğŸ” æ­¥éª¤1: ç¯å¢ƒæ£€æŸ¥...
call check-environment.bat
if %errorlevel% neq 0 (
    echo âŒ ç¯å¢ƒæ£€æŸ¥å¤±è´¥ï¼Œéƒ¨ç½²ç»ˆæ­¢
    pause
    exit /b 1
)

echo.
echo ğŸ›‘ æ­¥éª¤2: åœæ­¢ç°æœ‰æœåŠ¡...
call stop-devops.bat
call stop-app.bat

echo.
echo ğŸ’¾ æ­¥éª¤3: å¤‡ä»½æ•°æ®...
call backup-data.bat

echo.
echo ğŸ³ æ­¥éª¤4: éƒ¨ç½²DevOpsç¯å¢ƒ...
call start-devops.bat
if %errorlevel% neq 0 (
    echo âŒ DevOpsç¯å¢ƒéƒ¨ç½²å¤±è´¥
    pause
    exit /b 1
)

echo.
echo â³ ç­‰å¾…DevOpsæœåŠ¡å¯åŠ¨å®Œæˆ...
timeout /t 180 /nobreak

echo.
echo ğŸš€ æ­¥éª¤5: éƒ¨ç½²åº”ç”¨æœåŠ¡...
call start-app.bat
if %errorlevel% neq 0 (
    echo âŒ åº”ç”¨æœåŠ¡éƒ¨ç½²å¤±è´¥
    pause
    exit /b 1
)

echo.
echo âœ… æ­¥éª¤6: éªŒè¯éƒ¨ç½²ç»“æœ...
call health-check.bat

set "end_time=%time%"
echo.
echo ========================================
echo ğŸ‰ éƒ¨ç½²å®Œæˆï¼
echo ========================================
echo å¼€å§‹æ—¶é—´: %start_time%
echo ç»“æŸæ—¶é—´: %end_time%
echo.
echo ğŸŒ è®¿é—®åœ°å€:
echo - å‰ç«¯åº”ç”¨: http://localhost:3000
echo - åç«¯API: http://localhost:8080
echo - GitLab: http://localhost:8080
echo - Jenkins: http://localhost:8081
echo.
echo ğŸ“š æ›´å¤šä¿¡æ¯è¯·æŸ¥çœ‹:
echo - å¿«é€Ÿå¯åŠ¨æŒ‡å—.md
echo - é¡¹ç›®é›†æˆæŒ‡å—.md
echo.
pause
```

### 2. åº”ç”¨å¯åŠ¨è„šæœ¬ (start-app.bat)

```batch
@echo off
setlocal enabledelayedexpansion

echo ========================================
echo Verto åº”ç”¨å¯åŠ¨è„šæœ¬
echo ========================================

echo.
echo ğŸ” æ£€æŸ¥å‰ç½®æ¡ä»¶...

:: æ£€æŸ¥DevOpsæœåŠ¡çŠ¶æ€
docker ps | findstr gitlab-ce >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ GitLabæœåŠ¡æœªè¿è¡Œï¼Œè¯·å…ˆå¯åŠ¨DevOpsç¯å¢ƒ
    echo è¿è¡Œ: start-devops.bat
    pause
    exit /b 1
)

docker ps | findstr verto-mysql >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ MySQLæœåŠ¡æœªè¿è¡Œï¼Œè¯·å…ˆå¯åŠ¨DevOpsç¯å¢ƒ
    pause
    exit /b 1
)

echo âœ… å‰ç½®æœåŠ¡æ£€æŸ¥é€šè¿‡

echo.
echo ğŸ—ï¸  æ„å»ºå’Œå¯åŠ¨åç«¯æœåŠ¡...
cd jeecg-boot
if not exist "target" (
    echo é¦–æ¬¡è¿è¡Œï¼Œæ­£åœ¨ç¼–è¯‘é¡¹ç›®...
    call mvn clean compile
    if !errorlevel! neq 0 (
        echo âŒ åç«¯ç¼–è¯‘å¤±è´¥
        cd ..
        pause
        exit /b 1
    )
)

echo å¯åŠ¨åç«¯æœåŠ¡...
start "Verto Backend" cmd /k "mvn spring-boot:run -pl jeecg-module-system/jeecg-system-start"

echo â³ ç­‰å¾…åç«¯æœåŠ¡å¯åŠ¨...
timeout /t 30 /nobreak

echo.
echo ğŸ¨ å¯åŠ¨å‰ç«¯æœåŠ¡...
cd ..\jeecgboot-vue3

:: æ£€æŸ¥ä¾èµ–
if not exist "node_modules" (
    echo é¦–æ¬¡è¿è¡Œï¼Œæ­£åœ¨å®‰è£…ä¾èµ–...
    call pnpm install
    if !errorlevel! neq 0 (
        echo âŒ å‰ç«¯ä¾èµ–å®‰è£…å¤±è´¥
        cd ..
        pause
        exit /b 1
    )
)

echo å¯åŠ¨å‰ç«¯æœåŠ¡...
start "Verto Frontend" cmd /k "pnpm dev"

cd ..

echo.
echo â³ ç­‰å¾…æœåŠ¡å¯åŠ¨å®Œæˆ...
timeout /t 60 /nobreak

echo.
echo ğŸ” éªŒè¯æœåŠ¡çŠ¶æ€...

:: æ£€æŸ¥åç«¯æœåŠ¡
curl -s http://localhost:8080/jeecg-boot/sys/common/403 >nul 2>&1
if %errorlevel% equ 0 (
    echo âœ… åç«¯æœåŠ¡å¯åŠ¨æˆåŠŸ
) else (
    echo âš ï¸  åç«¯æœåŠ¡å¯èƒ½è¿˜åœ¨å¯åŠ¨ä¸­
)

:: æ£€æŸ¥å‰ç«¯æœåŠ¡
curl -s http://localhost:3000 >nul 2>&1
if %errorlevel% equ 0 (
    echo âœ… å‰ç«¯æœåŠ¡å¯åŠ¨æˆåŠŸ
) else (
    echo âš ï¸  å‰ç«¯æœåŠ¡å¯èƒ½è¿˜åœ¨å¯åŠ¨ä¸­
)

echo.
echo ========================================
echo ğŸ‰ åº”ç”¨å¯åŠ¨å®Œæˆï¼
echo ========================================
echo.
echo ğŸŒ è®¿é—®åœ°å€:
echo - å‰ç«¯åº”ç”¨: http://localhost:3000
echo - åç«¯API: http://localhost:8080/jeecg-boot
echo - APIæ–‡æ¡£: http://localhost:8080/jeecg-boot/doc.html
echo.
echo ğŸ“ é»˜è®¤ç™»å½•ä¿¡æ¯:
echo - ç”¨æˆ·å: admin
echo - å¯†ç : 123456
echo.
echo ğŸ’¡ æç¤º:
echo - é¦–æ¬¡å¯åŠ¨å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´
echo - å¦‚æœè®¿é—®å¼‚å¸¸ï¼Œè¯·ç­‰å¾…æœåŠ¡å®Œå…¨å¯åŠ¨
echo - æŸ¥çœ‹æ—¥å¿—: åœ¨å¯¹åº”çš„å‘½ä»¤è¡Œçª—å£ä¸­æŸ¥çœ‹
echo.
pause
```

### 3. åº”ç”¨åœæ­¢è„šæœ¬ (stop-app.bat)

```batch
@echo off
echo ========================================
echo Verto åº”ç”¨åœæ­¢è„šæœ¬
echo ========================================

echo.
echo ğŸ›‘ æ­£åœ¨åœæ­¢åº”ç”¨æœåŠ¡...

:: åœæ­¢å‰ç«¯æœåŠ¡
echo åœæ­¢å‰ç«¯æœåŠ¡...
for /f "tokens=2" %%a in ('tasklist /FI "WINDOWTITLE eq Verto Frontend*" /FO CSV /NH 2^>nul') do (
    if not "%%a"=="INFO:" (
        set pid=%%a
        set pid=!pid:"=!
        echo ç»ˆæ­¢å‰ç«¯è¿›ç¨‹ PID: !pid!
        taskkill /PID !pid! /F >nul 2>&1
    )
)

:: åœæ­¢åç«¯æœåŠ¡
echo åœæ­¢åç«¯æœåŠ¡...
for /f "tokens=2" %%a in ('tasklist /FI "WINDOWTITLE eq Verto Backend*" /FO CSV /NH 2^>nul') do (
    if not "%%a"=="INFO:" (
        set pid=%%a
        set pid=!pid:"=!
        echo ç»ˆæ­¢åç«¯è¿›ç¨‹ PID: !pid!
        taskkill /PID !pid! /F >nul 2>&1
    )
)

:: åœæ­¢Javaè¿›ç¨‹ï¼ˆå¤‡ç”¨æ–¹æ³•ï¼‰
echo æ£€æŸ¥Javaè¿›ç¨‹...
for /f "tokens=2" %%a in ('tasklist /FI "IMAGENAME eq java.exe" /FO CSV /NH 2^>nul') do (
    if not "%%a"=="INFO:" (
        set pid=%%a
        set pid=!pid:"=!
        echo å‘ç°Javaè¿›ç¨‹ PID: !pid!
        set /p kill_java="æ˜¯å¦ç»ˆæ­¢æ­¤Javaè¿›ç¨‹? (y/N): "
        if /i "!kill_java!"=="y" (
            taskkill /PID !pid! /F >nul 2>&1
            echo å·²ç»ˆæ­¢Javaè¿›ç¨‹ !pid!
        )
    )
)

:: åœæ­¢Node.jsè¿›ç¨‹ï¼ˆå¤‡ç”¨æ–¹æ³•ï¼‰
echo æ£€æŸ¥Node.jsè¿›ç¨‹...
for /f "tokens=2" %%a in ('tasklist /FI "IMAGENAME eq node.exe" /FO CSV /NH 2^>nul') do (
    if not "%%a"=="INFO:" (
        set pid=%%a
        set pid=!pid:"=!
        echo å‘ç°Node.jsè¿›ç¨‹ PID: !pid!
        set /p kill_node="æ˜¯å¦ç»ˆæ­¢æ­¤Node.jsè¿›ç¨‹? (y/N): "
        if /i "!kill_node!"=="y" (
            taskkill /PID !pid! /F >nul 2>&1
            echo å·²ç»ˆæ­¢Node.jsè¿›ç¨‹ !pid!
        )
    )
)

echo.
echo âœ… åº”ç”¨æœåŠ¡åœæ­¢å®Œæˆ
echo.
pause
```

---

## ğŸ“Š ç›‘æ§è„šæœ¬

### 1. å®æ—¶ç›‘æ§è„šæœ¬ (monitor-realtime.bat)

```batch
@echo off
setlocal enabledelayedexpansion

title Verto DevOps å®æ—¶ç›‘æ§

:monitor_loop
cls
echo ========================================
echo Verto DevOps å®æ—¶ç›‘æ§
echo æ—¶é—´: %date% %time%
echo ========================================

echo.
echo ğŸ³ å®¹å™¨çŠ¶æ€:
docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}" 2>nul
if %errorlevel% neq 0 (
    echo âŒ DockeræœåŠ¡å¼‚å¸¸
)

echo.
echo ğŸ“Š èµ„æºä½¿ç”¨:
docker stats --no-stream --format "table {{.Name}}\t{{.CPUPerc}}\t{{.MemUsage}}\t{{.MemPerc}}" 2>nul

echo.
echo ğŸŒ æœåŠ¡çŠ¶æ€:
call :check_service "GitLab" "http://localhost:8080"
call :check_service "Jenkins" "http://localhost:8081"
call :check_service "å‰ç«¯åº”ç”¨" "http://localhost:3000"
call :check_service "åç«¯API" "http://localhost:8080/jeecg-boot/sys/common/403"

echo.
echo ğŸ’¾ å­˜å‚¨ä½¿ç”¨:
docker system df 2>nul

echo.
echo ğŸ”„ è‡ªåŠ¨åˆ·æ–°ä¸­... (æŒ‰ Ctrl+C é€€å‡º)
timeout /t 10 /nobreak >nul
goto :monitor_loop

:check_service
set service_name=%~1
set service_url=%~2
curl -s -o nul -w "%%{http_code}" %service_url% 2>nul | findstr "200\|302\|403" >nul
if %errorlevel% equ 0 (
    echo âœ… %service_name% æ­£å¸¸
) else (
    echo âŒ %service_name% å¼‚å¸¸
)
goto :eof
```

### 2. æ€§èƒ½ç›‘æ§è„šæœ¬ (monitor-performance.bat)

```batch
@echo off
setlocal enabledelayedexpansion

echo ========================================
echo Verto DevOps æ€§èƒ½ç›‘æ§æŠ¥å‘Š
echo ç”Ÿæˆæ—¶é—´: %date% %time%
echo ========================================

set "report_file=performance_report_%date:~0,4%%date:~5,2%%date:~8,2%_%time:~0,2%%time:~3,2%.txt"
set "report_file=%report_file: =0%"

echo æ­£åœ¨ç”Ÿæˆæ€§èƒ½æŠ¥å‘Š...

echo ======================================== > %report_file%
echo Verto DevOps æ€§èƒ½ç›‘æ§æŠ¥å‘Š >> %report_file%
echo ç”Ÿæˆæ—¶é—´: %date% %time% >> %report_file%
echo ======================================== >> %report_file%

echo. >> %report_file%
echo ğŸ–¥ï¸  ç³»ç»Ÿä¿¡æ¯: >> %report_file%
systeminfo | findstr /C:"OS Name" /C:"Total Physical Memory" /C:"Available Physical Memory" >> %report_file%

echo. >> %report_file%
echo ğŸ³ Dockerä¿¡æ¯: >> %report_file%
docker info >> %report_file% 2>&1

echo. >> %report_file%
echo ğŸ“Š å®¹å™¨èµ„æºä½¿ç”¨: >> %report_file%
docker stats --no-stream >> %report_file% 2>&1

echo. >> %report_file%
echo ğŸ’¾ å­˜å‚¨ä½¿ç”¨æƒ…å†µ: >> %report_file%
docker system df >> %report_file% 2>&1

echo. >> %report_file%
echo ğŸ”Œ ç«¯å£ç›‘å¬çŠ¶æ€: >> %report_file%
netstat -ano | findstr "LISTENING" | findstr ":8080\|:8081\|:3000\|:3306\|:6379" >> %report_file%

echo. >> %report_file%
echo ğŸŒ æœåŠ¡å“åº”æ—¶é—´æµ‹è¯•: >> %report_file%
for %%s in ("GitLab:http://localhost:8080" "Jenkins:http://localhost:8081" "å‰ç«¯:http://localhost:3000") do (
    for /f "tokens=1,2 delims=:" %%a in ("%%s") do (
        echo æµ‹è¯• %%a... >> %report_file%
        curl -s -o nul -w "å“åº”æ—¶é—´: %%{time_total}s, HTTPçŠ¶æ€: %%{http_code}\n" %%b:%%c >> %report_file% 2>&1
    )
)

echo. >> %report_file%
echo ğŸ“ˆ å†å²æ•°æ®å¯¹æ¯”: >> %report_file%
if exist "performance_baseline.txt" (
    echo ä¸åŸºå‡†æ•°æ®å¯¹æ¯”: >> %report_file%
    fc /N performance_baseline.txt %report_file% >> %report_file% 2>&1
) else (
    echo é¦–æ¬¡è¿è¡Œï¼Œåˆ›å»ºåŸºå‡†æ•°æ®... >> %report_file%
    copy %report_file% performance_baseline.txt >nul
)

echo.
echo âœ… æ€§èƒ½æŠ¥å‘Šå·²ç”Ÿæˆ: %report_file%
echo.
echo ğŸ“Š æŠ¥å‘Šæ‘˜è¦:
echo ============

:: æ˜¾ç¤ºå…³é”®æŒ‡æ ‡
echo.
echo ğŸ³ å®¹å™¨çŠ¶æ€:
docker ps --format "table {{.Names}}\t{{.Status}}"

echo.
echo ğŸ“Š èµ„æºä½¿ç”¨:
docker stats --no-stream --format "table {{.Name}}\t{{.CPUPerc}}\t{{.MemUsage}}"

echo.
echo ğŸ’¾ ç£ç›˜ä½¿ç”¨:
docker system df

echo.
echo ğŸ“„ å®Œæ•´æŠ¥å‘Šè¯·æŸ¥çœ‹: %report_file%
echo.
pause
```

### 3. æ—¥å¿—ç›‘æ§è„šæœ¬ (monitor-logs.bat)

```batch
@echo off
setlocal enabledelayedexpansion

echo ========================================
echo Verto DevOps æ—¥å¿—ç›‘æ§
echo ========================================

echo.
echo ğŸ“‹ å¯ç”¨çš„æ—¥å¿—ç›‘æ§é€‰é¡¹:
echo 1. å®æ—¶æŸ¥çœ‹æ‰€æœ‰å®¹å™¨æ—¥å¿—
echo 2. æŸ¥çœ‹GitLabæ—¥å¿—
echo 3. æŸ¥çœ‹Jenkinsæ—¥å¿—
echo 4. æŸ¥çœ‹MySQLæ—¥å¿—
echo 5. æŸ¥çœ‹Redisæ—¥å¿—
echo 6. æœç´¢é”™è¯¯æ—¥å¿—
echo 7. å¯¼å‡ºæ—¥å¿—æ–‡ä»¶
echo 0. é€€å‡º

echo.
set /p choice="è¯·é€‰æ‹©æ“ä½œ (0-7): "

if "%choice%"=="1" goto :all_logs
if "%choice%"=="2" goto :gitlab_logs
if "%choice%"=="3" goto :jenkins_logs
if "%choice%"=="4" goto :mysql_logs
if "%choice%"=="5" goto :redis_logs
if "%choice%"=="6" goto :error_logs
if "%choice%"=="7" goto :export_logs
if "%choice%"=="0" goto :exit
goto :invalid_choice

:all_logs
echo.
echo ğŸ”„ å®æ—¶æŸ¥çœ‹æ‰€æœ‰å®¹å™¨æ—¥å¿— (æŒ‰ Ctrl+C é€€å‡º)...
docker-compose -f docker-compose-devops.yml logs -f
goto :menu

:gitlab_logs
echo.
echo ğŸ“‹ GitLabæ—¥å¿— (æœ€è¿‘100è¡Œ):
docker logs --tail 100 gitlab-ce
echo.
echo ğŸ”„ å®æ—¶è·Ÿè¸ªGitLabæ—¥å¿— (æŒ‰ Ctrl+C é€€å‡º):
docker logs -f gitlab-ce
goto :menu

:jenkins_logs
echo.
echo ğŸ“‹ Jenkinsæ—¥å¿— (æœ€è¿‘100è¡Œ):
docker logs --tail 100 jenkins
echo.
echo ğŸ”„ å®æ—¶è·Ÿè¸ªJenkinsæ—¥å¿— (æŒ‰ Ctrl+C é€€å‡º):
docker logs -f jenkins
goto :menu

:mysql_logs
echo.
echo ğŸ“‹ MySQLæ—¥å¿— (æœ€è¿‘100è¡Œ):
docker logs --tail 100 verto-mysql
echo.
echo ğŸ”„ å®æ—¶è·Ÿè¸ªMySQLæ—¥å¿— (æŒ‰ Ctrl+C é€€å‡º):
docker logs -f verto-mysql
goto :menu

:redis_logs
echo.
echo ğŸ“‹ Redisæ—¥å¿— (æœ€è¿‘100è¡Œ):
docker logs --tail 100 verto-redis
echo.
echo ğŸ”„ å®æ—¶è·Ÿè¸ªRedisæ—¥å¿— (æŒ‰ Ctrl+C é€€å‡º):
docker logs -f verto-redis
goto :menu

:error_logs
echo.
echo ğŸ” æœç´¢é”™è¯¯æ—¥å¿—...
set /p keyword="è¯·è¾“å…¥æœç´¢å…³é”®è¯ (å¦‚: error, exception, failed): "
if "%keyword%"=="" set keyword=error

echo.
echo ğŸ” åœ¨GitLabæ—¥å¿—ä¸­æœç´¢ "%keyword%":
docker logs gitlab-ce 2>&1 | findstr /i "%keyword%"

echo.
echo ğŸ” åœ¨Jenkinsæ—¥å¿—ä¸­æœç´¢ "%keyword%":
docker logs jenkins 2>&1 | findstr /i "%keyword%"

echo.
echo ğŸ” åœ¨MySQLæ—¥å¿—ä¸­æœç´¢ "%keyword%":
docker logs verto-mysql 2>&1 | findstr /i "%keyword%"

echo.
echo ğŸ” åœ¨Redisæ—¥å¿—ä¸­æœç´¢ "%keyword%":
docker logs verto-redis 2>&1 | findstr /i "%keyword%"

pause
goto :menu

:export_logs
echo.
echo ğŸ“¤ å¯¼å‡ºæ—¥å¿—æ–‡ä»¶...
set "log_dir=logs_export_%date:~0,4%%date:~5,2%%date:~8,2%_%time:~0,2%%time:~3,2%%time:~6,2%"
set "log_dir=%log_dir: =0%"
mkdir "%log_dir%" 2>nul

echo å¯¼å‡ºGitLabæ—¥å¿—...
docker logs gitlab-ce > "%log_dir%\gitlab.log" 2>&1

echo å¯¼å‡ºJenkinsæ—¥å¿—...
docker logs jenkins > "%log_dir%\jenkins.log" 2>&1

echo å¯¼å‡ºMySQLæ—¥å¿—...
docker logs verto-mysql > "%log_dir%\mysql.log" 2>&1

echo å¯¼å‡ºRedisæ—¥å¿—...
docker logs verto-redis > "%log_dir%\redis.log" 2>&1

echo å¯¼å‡ºDocker Composeæ—¥å¿—...
docker-compose -f docker-compose-devops.yml logs > "%log_dir%\docker-compose.log" 2>&1

echo åˆ›å»ºæ—¥å¿—æ‘˜è¦...
echo Verto DevOps æ—¥å¿—å¯¼å‡º > "%log_dir%\README.txt"
echo å¯¼å‡ºæ—¶é—´: %date% %time% >> "%log_dir%\README.txt"
echo. >> "%log_dir%\README.txt"
echo æ–‡ä»¶è¯´æ˜: >> "%log_dir%\README.txt"
echo - gitlab.log: GitLabå®¹å™¨æ—¥å¿— >> "%log_dir%\README.txt"
echo - jenkins.log: Jenkinså®¹å™¨æ—¥å¿— >> "%log_dir%\README.txt"
echo - mysql.log: MySQLå®¹å™¨æ—¥å¿— >> "%log_dir%\README.txt"
echo - redis.log: Rediså®¹å™¨æ—¥å¿— >> "%log_dir%\README.txt"
echo - docker-compose.log: Docker Composeæ—¥å¿— >> "%log_dir%\README.txt"

echo.
echo âœ… æ—¥å¿—å·²å¯¼å‡ºåˆ°ç›®å½•: %log_dir%
pause
goto :menu

:invalid_choice
echo âŒ æ— æ•ˆé€‰æ‹©ï¼Œè¯·é‡æ–°è¾“å…¥
pause

:menu
echo.
echo æŒ‰ä»»æ„é”®è¿”å›ä¸»èœå•...
pause >nul
cls
goto :start

:exit
echo é€€å‡ºæ—¥å¿—ç›‘æ§
exit /b 0

:start
goto :eof
```

---

## ğŸ’¾ å¤‡ä»½è„šæœ¬

### 1. æ•°æ®å¤‡ä»½è„šæœ¬ (backup-data.bat)

```batch
@echo off
setlocal enabledelayedexpansion

echo ========================================
echo Verto DevOps æ•°æ®å¤‡ä»½è„šæœ¬
echo ========================================

set "backup_date=%date:~0,4%%date:~5,2%%date:~8,2%_%time:~0,2%%time:~3,2%%time:~6,2%"
set "backup_date=%backup_date: =0%"
set "backup_dir=backup_%backup_date%"

echo.
echo ğŸ“‹ å¤‡ä»½è®¡åˆ’:
echo - å¤‡ä»½ç›®å½•: %backup_dir%
echo - GitLabæ•°æ®
echo - Jenkinsæ•°æ®
echo - MySQLæ•°æ®åº“
echo - Redisæ•°æ®
echo - é…ç½®æ–‡ä»¶

echo.
set /p confirm="ç¡®è®¤å¼€å§‹å¤‡ä»½? (y/N): "
if /i not "%confirm%"=="y" (
    echo å¤‡ä»½å·²å–æ¶ˆ
    pause
    exit /b 0
)

echo.
echo ğŸ“ åˆ›å»ºå¤‡ä»½ç›®å½•...
mkdir "%backup_dir%" 2>nul
mkdir "%backup_dir%\gitlab" 2>nul
mkdir "%backup_dir%\jenkins" 2>nul
mkdir "%backup_dir%\mysql" 2>nul
mkdir "%backup_dir%\redis" 2>nul
mkdir "%backup_dir%\config" 2>nul

echo.
echo ğŸ’¾ å¤‡ä»½é…ç½®æ–‡ä»¶...
copy "docker-compose-devops.yml" "%backup_dir%\config\" >nul 2>&1
copy ".env.devops" "%backup_dir%\config\" >nul 2>&1
copy "*.bat" "%backup_dir%\config\" >nul 2>&1
copy "*.md" "%backup_dir%\config\" >nul 2>&1
echo âœ… é…ç½®æ–‡ä»¶å¤‡ä»½å®Œæˆ

echo.
echo ğŸ” æ£€æŸ¥å®¹å™¨çŠ¶æ€...
docker ps | findstr gitlab-ce >nul 2>&1
set gitlab_running=%errorlevel%

docker ps | findstr jenkins >nul 2>&1
set jenkins_running=%errorlevel%

docker ps | findstr verto-mysql >nul 2>&1
set mysql_running=%errorlevel%

docker ps | findstr verto-redis >nul 2>&1
set redis_running=%errorlevel%

echo.
echo ğŸ“¦ å¤‡ä»½GitLabæ•°æ®...
if %gitlab_running% equ 0 (
    echo GitLabå®¹å™¨è¿è¡Œä¸­ï¼Œåˆ›å»ºå¤‡ä»½...
    docker exec gitlab-ce gitlab-backup create BACKUP=%backup_date% >nul 2>&1
    if !errorlevel! equ 0 (
        echo âœ… GitLabå¤‡ä»½åˆ›å»ºæˆåŠŸ
        docker cp gitlab-ce:/var/opt/gitlab/backups/%backup_date%_gitlab_backup.tar "%backup_dir%\gitlab\" >nul 2>&1
        docker cp gitlab-ce:/etc/gitlab/gitlab.rb "%backup_dir%\gitlab\" >nul 2>&1
        docker cp gitlab-ce:/etc/gitlab/gitlab-secrets.json "%backup_dir%\gitlab\" >nul 2>&1
    ) else (
        echo âš ï¸  GitLabå¤‡ä»½åˆ›å»ºå¤±è´¥ï¼Œå¤åˆ¶æ•°æ®ç›®å½•...
        xcopy /E /I /H /Y "gitlab\data" "%backup_dir%\gitlab\data\" >nul 2>&1
    )
) else (
    echo GitLabå®¹å™¨æœªè¿è¡Œï¼Œå¤åˆ¶æ•°æ®ç›®å½•...
    xcopy /E /I /H /Y "gitlab\data" "%backup_dir%\gitlab\data\" >nul 2>&1
    xcopy /E /I /H /Y "gitlab\config" "%backup_dir%\gitlab\config\" >nul 2>&1
    xcopy /E /I /H /Y "gitlab\logs" "%backup_dir%\gitlab\logs\" >nul 2>&1
)
echo âœ… GitLabæ•°æ®å¤‡ä»½å®Œæˆ

echo.
echo ğŸ”§ å¤‡ä»½Jenkinsæ•°æ®...
if %jenkins_running% equ 0 (
    echo Jenkinså®¹å™¨è¿è¡Œä¸­ï¼Œå¤åˆ¶æ•°æ®...
    docker cp jenkins:/var/jenkins_home "%backup_dir%\jenkins\" >nul 2>&1
) else (
    echo Jenkinså®¹å™¨æœªè¿è¡Œï¼Œå¤åˆ¶æ•°æ®ç›®å½•...
    xcopy /E /I /H /Y "jenkins_home" "%backup_dir%\jenkins\jenkins_home\" >nul 2>&1
)
echo âœ… Jenkinsæ•°æ®å¤‡ä»½å®Œæˆ

echo.
echo ğŸ—„ï¸  å¤‡ä»½MySQLæ•°æ®åº“...
if %mysql_running% equ 0 (
    echo å¯¼å‡ºæ•°æ®åº“...
    docker exec verto-mysql mysqldump -u root -pVerto123456 --all-databases > "%backup_dir%\mysql\all_databases.sql" 2>nul
    if !errorlevel! equ 0 (
        echo âœ… MySQLæ•°æ®åº“å¯¼å‡ºæˆåŠŸ
    ) else (
        echo âš ï¸  æ•°æ®åº“å¯¼å‡ºå¤±è´¥ï¼Œå¤åˆ¶æ•°æ®ç›®å½•...
        xcopy /E /I /H /Y "mysql\data" "%backup_dir%\mysql\data\" >nul 2>&1
    )
) else (
    echo MySQLå®¹å™¨æœªè¿è¡Œï¼Œå¤åˆ¶æ•°æ®ç›®å½•...
    xcopy /E /I /H /Y "mysql\data" "%backup_dir%\mysql\data\" >nul 2>&1
)
echo âœ… MySQLæ•°æ®å¤‡ä»½å®Œæˆ

echo.
echo ğŸ“Š å¤‡ä»½Redisæ•°æ®...
if %redis_running% equ 0 (
    echo åˆ›å»ºRediså¿«ç…§...
    docker exec verto-redis redis-cli BGSAVE >nul 2>&1
    timeout /t 5 /nobreak >nul
    docker cp verto-redis:/data/dump.rdb "%backup_dir%\redis\" >nul 2>&1
) else (
    echo Rediså®¹å™¨æœªè¿è¡Œï¼Œå¤åˆ¶æ•°æ®ç›®å½•...
    xcopy /E /I /H /Y "redis\data" "%backup_dir%\redis\data\" >nul 2>&1
)
echo âœ… Redisæ•°æ®å¤‡ä»½å®Œæˆ

echo.
echo ğŸ“ åˆ›å»ºå¤‡ä»½ä¿¡æ¯æ–‡ä»¶...
echo Verto DevOps æ•°æ®å¤‡ä»½ > "%backup_dir%\backup_info.txt"
echo å¤‡ä»½æ—¶é—´: %date% %time% >> "%backup_dir%\backup_info.txt"
echo å¤‡ä»½ç‰ˆæœ¬: %backup_date% >> "%backup_dir%\backup_info.txt"
echo. >> "%backup_dir%\backup_info.txt"
echo å¤‡ä»½å†…å®¹: >> "%backup_dir%\backup_info.txt"
echo - GitLabæ•°æ®å’Œé…ç½® >> "%backup_dir%\backup_info.txt"
echo - Jenkinsæ•°æ®å’Œé…ç½® >> "%backup_dir%\backup_info.txt"
echo - MySQLæ•°æ®åº“ >> "%backup_dir%\backup_info.txt"
echo - Redisæ•°æ® >> "%backup_dir%\backup_info.txt"
echo - ç³»ç»Ÿé…ç½®æ–‡ä»¶ >> "%backup_dir%\backup_info.txt"
echo. >> "%backup_dir%\backup_info.txt"
echo æ¢å¤è¯´æ˜: >> "%backup_dir%\backup_info.txt"
echo 1. åœæ­¢æ‰€æœ‰æœåŠ¡ >> "%backup_dir%\backup_info.txt"
echo 2. è¿è¡Œ restore-data.bat >> "%backup_dir%\backup_info.txt"
echo 3. é€‰æ‹©æ­¤å¤‡ä»½ç›®å½•è¿›è¡Œæ¢å¤ >> "%backup_dir%\backup_info.txt"

echo.
echo ğŸ—œï¸  å‹ç¼©å¤‡ä»½æ–‡ä»¶...
if exist "C:\Program Files\7-Zip\7z.exe" (
    "C:\Program Files\7-Zip\7z.exe" a -tzip "%backup_dir%.zip" "%backup_dir%\*" >nul 2>&1
    if !errorlevel! equ 0 (
        echo âœ… å¤‡ä»½æ–‡ä»¶å·²å‹ç¼©: %backup_dir%.zip
        rmdir /s /q "%backup_dir%" 2>nul
    ) else (
        echo âš ï¸  å‹ç¼©å¤±è´¥ï¼Œä¿ç•™åŸå§‹å¤‡ä»½ç›®å½•
    )
) else (
    echo âš ï¸  æœªæ‰¾åˆ°7-Zipï¼Œè·³è¿‡å‹ç¼©æ­¥éª¤
)

echo.
echo ========================================
echo ğŸ‰ å¤‡ä»½å®Œæˆï¼
echo ========================================
echo å¤‡ä»½ä½ç½®: %backup_dir%
echo å¤‡ä»½æ—¶é—´: %date% %time%
echo.
echo ğŸ’¡ å»ºè®®:
echo - å®šæœŸå¤‡ä»½é‡è¦æ•°æ®
echo - å°†å¤‡ä»½æ–‡ä»¶å­˜å‚¨åˆ°å®‰å…¨ä½ç½®
echo - å®šæœŸæµ‹è¯•å¤‡ä»½æ¢å¤æµç¨‹
echo.
pause
```

### 2. æ•°æ®æ¢å¤è„šæœ¬ (restore-data.bat)

```batch
@echo off
setlocal enabledelayedexpansion

echo ========================================
echo Verto DevOps æ•°æ®æ¢å¤è„šæœ¬
echo ========================================

echo.
echo ğŸ” æœç´¢å¯ç”¨çš„å¤‡ä»½...
echo.
echo å¯ç”¨çš„å¤‡ä»½ç›®å½•:
set backup_count=0
for /d %%d in (backup_*) do (
    set /a backup_count+=1
    echo !backup_count!. %%d
    set backup_!backup_count!=%%d
)

if %backup_count% equ 0 (
    echo âŒ æœªæ‰¾åˆ°å¤‡ä»½ç›®å½•
    echo è¯·ç¡®ä¿å¤‡ä»½ç›®å½•ä»¥ "backup_" å¼€å¤´
    pause
    exit /b 1
)

echo.
set /p backup_choice="è¯·é€‰æ‹©è¦æ¢å¤çš„å¤‡ä»½ (1-%backup_count%): "

if %backup_choice% lss 1 (
    echo âŒ æ— æ•ˆé€‰æ‹©
    pause
    exit /b 1
)
if %backup_choice% gtr %backup_count% (
    echo âŒ æ— æ•ˆé€‰æ‹©
    pause
    exit /b 1
)

call set selected_backup=%%backup_%backup_choice%%%
echo.
echo é€‰æ‹©çš„å¤‡ä»½: %selected_backup%

if exist "%selected_backup%\backup_info.txt" (
    echo.
    echo ğŸ“‹ å¤‡ä»½ä¿¡æ¯:
    type "%selected_backup%\backup_info.txt"
)

echo.
echo âš ï¸  è­¦å‘Š: æ¢å¤æ“ä½œå°†è¦†ç›–ç°æœ‰æ•°æ®ï¼
set /p confirm="ç¡®è®¤æ¢å¤æ­¤å¤‡ä»½? (y/N): "
if /i not "%confirm%"=="y" (
    echo æ¢å¤å·²å–æ¶ˆ
    pause
    exit /b 0
)

echo.
echo ğŸ›‘ åœæ­¢æ‰€æœ‰æœåŠ¡...
call stop-devops.bat
call stop-app.bat

echo.
echo ğŸ—„ï¸  æ¢å¤MySQLæ•°æ®...
if exist "%selected_backup%\mysql\all_databases.sql" (
    echo å¯åŠ¨MySQLå®¹å™¨è¿›è¡Œæ•°æ®æ¢å¤...
    docker-compose -f docker-compose-devops.yml up -d verto-mysql
    timeout /t 30 /nobreak
    
    echo å¯¼å…¥æ•°æ®åº“...
    docker exec -i verto-mysql mysql -u root -pVerto123456 < "%selected_backup%\mysql\all_databases.sql"
    if !errorlevel! equ 0 (
        echo âœ… MySQLæ•°æ®æ¢å¤æˆåŠŸ
    ) else (
        echo âŒ MySQLæ•°æ®æ¢å¤å¤±è´¥
    )
    
    docker stop verto-mysql
) else if exist "%selected_backup%\mysql\data" (
    echo æ¢å¤MySQLæ•°æ®ç›®å½•...
    rmdir /s /q "mysql\data" 2>nul
    xcopy /E /I /H /Y "%selected_backup%\mysql\data" "mysql\data\" >nul 2>&1
    echo âœ… MySQLæ•°æ®ç›®å½•æ¢å¤å®Œæˆ
) else (
    echo âš ï¸  æœªæ‰¾åˆ°MySQLå¤‡ä»½æ•°æ®
)

echo.
echo ğŸ“¦ æ¢å¤GitLabæ•°æ®...
if exist "%selected_backup%\gitlab\data" (
    echo æ¢å¤GitLabæ•°æ®ç›®å½•...
    rmdir /s /q "gitlab\data" 2>nul
    rmdir /s /q "gitlab\config" 2>nul
    rmdir /s /q "gitlab\logs" 2>nul
    
    xcopy /E /I /H /Y "%selected_backup%\gitlab\data" "gitlab\data\" >nul 2>&1
    xcopy /E /I /H /Y "%selected_backup%\gitlab\config" "gitlab\config\" >nul 2>&1
    xcopy /E /I /H /Y "%selected_backup%\gitlab\logs" "gitlab\logs\" >nul 2>&1
    echo âœ… GitLabæ•°æ®æ¢å¤å®Œæˆ
) else (
    echo âš ï¸  æœªæ‰¾åˆ°GitLabå¤‡ä»½æ•°æ®
)

echo.
echo ğŸ”§ æ¢å¤Jenkinsæ•°æ®...
if exist "%selected_backup%\jenkins\jenkins_home" (
    echo æ¢å¤Jenkinsæ•°æ®ç›®å½•...
    rmdir /s /q "jenkins_home" 2>nul
    xcopy /E /I /H /Y "%selected_backup%\jenkins\jenkins_home" "jenkins_home\" >nul 2>&1
    echo âœ… Jenkinsæ•°æ®æ¢å¤å®Œæˆ
) else (
    echo âš ï¸  æœªæ‰¾åˆ°Jenkinså¤‡ä»½æ•°æ®
)

echo.
echo ğŸ“Š æ¢å¤Redisæ•°æ®...
if exist "%selected_backup%\redis\dump.rdb" (
    echo æ¢å¤Redisæ•°æ®æ–‡ä»¶...
    if not exist "redis\data" mkdir "redis\data"
    copy "%selected_backup%\redis\dump.rdb" "redis\data\" >nul 2>&1
    echo âœ… Redisæ•°æ®æ¢å¤å®Œæˆ
) else if exist "%selected_backup%\redis\data" (
    echo æ¢å¤Redisæ•°æ®ç›®å½•...
    rmdir /s /q "redis\data" 2>nul
    xcopy /E /I /H /Y "%selected_backup%\redis\data" "redis\data\" >nul 2>&1
    echo âœ… Redisæ•°æ®ç›®å½•æ¢å¤å®Œæˆ
) else (
    echo âš ï¸  æœªæ‰¾åˆ°Rediså¤‡ä»½æ•°æ®
)

echo.
echo âš™ï¸  æ¢å¤é…ç½®æ–‡ä»¶...
if exist "%selected_backup%\config" (
    copy "%selected_backup%\config\docker-compose-devops.yml" "." >nul 2>&1
    copy "%selected_backup%\config\.env.devops" "." >nul 2>&1
    echo âœ… é…ç½®æ–‡ä»¶æ¢å¤å®Œæˆ
) else (
    echo âš ï¸  æœªæ‰¾åˆ°é…ç½®æ–‡ä»¶å¤‡ä»½
)

echo.
echo ğŸ”§ è®¾ç½®æ–‡ä»¶æƒé™...
icacls gitlab /grant Everyone:(OI)(CI)F /T >nul 2>&1
icacls jenkins_home /grant Everyone:(OI)(CI)F /T >nul 2>&1
icacls mysql /grant Everyone:(OI)(CI)F /T >nul 2>&1
icacls redis /grant Everyone:(OI)(CI)F /T >nul 2>&1

echo.
echo ========================================
echo ğŸ‰ æ•°æ®æ¢å¤å®Œæˆï¼
echo ========================================
echo.
echo ğŸ“‹ æ¢å¤æ‘˜è¦:
echo - MySQLæ•°æ®: å·²æ¢å¤
echo - GitLabæ•°æ®: å·²æ¢å¤
echo - Jenkinsæ•°æ®: å·²æ¢å¤
echo - Redisæ•°æ®: å·²æ¢å¤
echo - é…ç½®æ–‡ä»¶: å·²æ¢å¤
echo.
echo ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œ:
echo 1. è¿è¡Œ start-devops.bat å¯åŠ¨æœåŠ¡
echo 2. ç­‰å¾…æœåŠ¡å®Œå…¨å¯åŠ¨
echo 3. éªŒè¯æ•°æ®å®Œæ•´æ€§
echo 4. æµ‹è¯•åº”ç”¨åŠŸèƒ½
echo.
echo ğŸ’¡ æ³¨æ„:
echo - é¦–æ¬¡å¯åŠ¨å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´
echo - è¯·æ£€æŸ¥æœåŠ¡æ—¥å¿—ç¡®è®¤å¯åŠ¨çŠ¶æ€
echo - å¦‚æœ‰é—®é¢˜è¯·æŸ¥çœ‹æ•…éšœæ’é™¤æ‰‹å†Œ
echo.
pause
```

---

## ğŸ§¹ æ¸…ç†è„šæœ¬

### 1. ç³»ç»Ÿæ¸…ç†è„šæœ¬ (cleanup-system.bat)

```batch
@echo off
setlocal enabledelayedexpansion

echo ========================================
echo Verto DevOps ç³»ç»Ÿæ¸…ç†è„šæœ¬
echo ========================================

echo.
echo ğŸ“‹ æ¸…ç†é€‰é¡¹:
echo 1. æ¸…ç†Dockerç¼“å­˜å’Œæ— ç”¨é•œåƒ
echo 2. æ¸…ç†æ—¥å¿—æ–‡ä»¶
echo 3. æ¸…ç†ä¸´æ—¶æ–‡ä»¶
echo 4. æ¸…ç†å¤‡ä»½æ–‡ä»¶ (ä¿ç•™æœ€è¿‘5ä¸ª)
echo 5. å®Œæ•´æ¸…ç† (åŒ…å«ä»¥ä¸Šæ‰€æœ‰)
echo 0. é€€å‡º

echo.
set /p choice="è¯·é€‰æ‹©æ¸…ç†é€‰é¡¹ (0-5): "

if "%choice%"=="1" goto :docker_cleanup
if "%choice%"=="2" goto :log_cleanup
if "%choice%"=="3" goto :temp_cleanup
if "%choice%"=="4" goto :backup_cleanup
if "%choice%"=="5" goto :full_cleanup
if "%choice%"=="0" goto :exit
goto :invalid_choice

:docker_cleanup
echo.
echo ğŸ³ æ¸…ç†Dockerèµ„æº...
echo.
echo å½“å‰Dockerä½¿ç”¨æƒ…å†µ:
docker system df

echo.
set /p confirm="ç¡®è®¤æ¸…ç†Dockerç¼“å­˜? (y/N): "
if /i not "%confirm%"=="y" goto :menu

echo.
echo æ¸…ç†åœæ­¢çš„å®¹å™¨...
docker container prune -f

echo æ¸…ç†æ— ç”¨çš„é•œåƒ...
docker image prune -f

echo æ¸…ç†æ— ç”¨çš„ç½‘ç»œ...
docker network prune -f

echo æ¸…ç†æ— ç”¨çš„å·...
docker volume prune -f

echo æ¸…ç†æ„å»ºç¼“å­˜...
docker builder prune -f

echo.
echo âœ… Dockeræ¸…ç†å®Œæˆ
echo.
echo æ¸…ç†åDockerä½¿ç”¨æƒ…å†µ:
docker system df

pause
goto :menu

:log_cleanup
echo.
echo ğŸ“ æ¸…ç†æ—¥å¿—æ–‡ä»¶...

set "log_size=0"
for /r . %%f in (*.log) do (
    set /a log_size+=%%~zf/1024/1024
)
echo å½“å‰æ—¥å¿—æ–‡ä»¶å¤§å°: %log_size% MB

echo.
set /p confirm="ç¡®è®¤æ¸…ç†æ—¥å¿—æ–‡ä»¶? (y/N): "
if /i not "%confirm%"=="y" goto :menu

echo.
echo æ¸…ç†åº”ç”¨æ—¥å¿—...
del /q /s *.log >nul 2>&1

echo æ¸…ç†Dockerå®¹å™¨æ—¥å¿—...
for /f "tokens=1" %%c in ('docker ps -aq') do (
    echo æ¸…ç†å®¹å™¨ %%c çš„æ—¥å¿—...
    echo. > $(docker inspect --format='{{.LogPath}}' %%c) 2>nul
)

echo æ¸…ç†ç³»ç»Ÿä¸´æ—¶æ—¥å¿—...
del /q "%TEMP%\*.log" >nul 2>&1

echo.
echo âœ… æ—¥å¿—æ¸…ç†å®Œæˆ
pause
goto :menu

:temp_cleanup
echo.
echo ğŸ—‚ï¸  æ¸…ç†ä¸´æ—¶æ–‡ä»¶...

echo æ¸…ç†ç³»ç»Ÿä¸´æ—¶æ–‡ä»¶...
del /q /s "%TEMP%\*" >nul 2>&1
del /q /s "%TMP%\*" >nul 2>&1

echo æ¸…ç†é¡¹ç›®ä¸´æ—¶æ–‡ä»¶...
del /q /s "*.tmp" >nul 2>&1
del /q /s "*.temp" >nul 2>&1
del /q /s ".DS_Store" >nul 2>&1
del /q /s "Thumbs.db" >nul 2>&1

echo æ¸…ç†Node.jsç¼“å­˜...
if exist "jeecgboot-vue3\node_modules\.cache" (
    rmdir /s /q "jeecgboot-vue3\node_modules\.cache" 2>nul
)

echo æ¸…ç†Mavenç¼“å­˜...
if exist "%USERPROFILE%\.m2\repository" (
    echo æ¸…ç†Mavenæœ¬åœ°ä»“åº“ç¼“å­˜...
    for /d %%d in ("%USERPROFILE%\.m2\repository\*") do (
        if exist "%%d\_remote.repositories" del /q "%%d\_remote.repositories" 2>nul
    )
)

echo.
echo âœ… ä¸´æ—¶æ–‡ä»¶æ¸…ç†å®Œæˆ
pause
goto :menu

:backup_cleanup
echo.
echo ğŸ’¾ æ¸…ç†å¤‡ä»½æ–‡ä»¶...

echo å½“å‰å¤‡ä»½æ–‡ä»¶:
set backup_count=0
for %%f in (backup_*.zip backup_*) do (
    if exist "%%f" (
        set /a backup_count+=1
        echo !backup_count!. %%f
    )
)

if %backup_count% leq 5 (
    echo å¤‡ä»½æ–‡ä»¶æ•°é‡ (%backup_count%) æœªè¶…è¿‡é™åˆ¶ (5ä¸ª)ï¼Œæ— éœ€æ¸…ç†
    pause
    goto :menu
)

echo.
echo å‘ç° %backup_count% ä¸ªå¤‡ä»½æ–‡ä»¶ï¼Œå°†ä¿ç•™æœ€æ–°çš„5ä¸ª
set /p confirm="ç¡®è®¤æ¸…ç†æ—§å¤‡ä»½? (y/N): "
if /i not "%confirm%"=="y" goto :menu

echo.
echo æ¸…ç†æ—§å¤‡ä»½æ–‡ä»¶...
set keep_count=5
set delete_count=0

:: æŒ‰æ—¶é—´æ’åºå¹¶åˆ é™¤æ—§æ–‡ä»¶
for /f "skip=%keep_count%" %%f in ('dir backup_* /b /o-d 2^>nul') do (
    echo åˆ é™¤æ—§å¤‡ä»½: %%f
    if exist "%%f\" (
        rmdir /s /q "%%f" 2>nul
    ) else (
        del /q "%%f" 2>nul
    )
    set /a delete_count+=1
)

echo.
echo âœ… å·²åˆ é™¤ %delete_count% ä¸ªæ—§å¤‡ä»½æ–‡ä»¶
pause
goto :menu

:full_cleanup
echo.
echo ğŸ§¹ æ‰§è¡Œå®Œæ•´æ¸…ç†...
echo.
echo âš ï¸  è­¦å‘Š: è¿™å°†æ¸…ç†æ‰€æœ‰ç¼“å­˜ã€æ—¥å¿—å’Œä¸´æ—¶æ–‡ä»¶
set /p confirm="ç¡®è®¤æ‰§è¡Œå®Œæ•´æ¸…ç†? (y/N): "
if /i not "%confirm%"=="y" goto :menu

echo.
echo æ‰§è¡Œå®Œæ•´æ¸…ç†...
call :docker_cleanup_silent
call :log_cleanup_silent
call :temp_cleanup_silent
call :backup_cleanup_silent

echo.
echo âœ… å®Œæ•´æ¸…ç†å®Œæˆ
pause
goto :menu

:docker_cleanup_silent
echo æ¸…ç†Dockerèµ„æº...
docker container prune -f >nul 2>&1
docker image prune -f >nul 2>&1
docker network prune -f >nul 2>&1
docker volume prune -f >nul 2>&1
docker builder prune -f >nul 2>&1
goto :eof

:log_cleanup_silent
echo æ¸…ç†æ—¥å¿—æ–‡ä»¶...
del /q /s *.log >nul 2>&1
del /q "%TEMP%\*.log" >nul 2>&1
goto :eof

:temp_cleanup_silent
echo æ¸…ç†ä¸´æ—¶æ–‡ä»¶...
del /q /s "%TEMP%\*" >nul 2>&1
del /q /s "*.tmp" >nul 2>&1
del /q /s "*.temp" >nul 2>&1
goto :eof

:backup_cleanup_silent
echo æ¸…ç†æ—§å¤‡ä»½...
set keep_count=5
for /f "skip=%keep_count%" %%f in ('dir backup_* /b /o-d 2^>nul') do (
    if exist "%%f\" (
        rmdir /s /q "%%f" 2>nul
    ) else (
        del /q "%%f" 2>nul
    )
)
goto :eof

:invalid_choice
echo âŒ æ— æ•ˆé€‰æ‹©ï¼Œè¯·é‡æ–°è¾“å…¥
pause

:menu
echo.
echo æŒ‰ä»»æ„é”®è¿”å›ä¸»èœå•...
pause >nul
cls
goto :start

:exit
echo é€€å‡ºæ¸…ç†è„šæœ¬
exit /b 0

:start
goto :eof
```

---

## ğŸ› ï¸ å¼€å‘è¾…åŠ©è„šæœ¬

### 1. å¼€å‘ç¯å¢ƒå¿«é€Ÿåˆ‡æ¢è„šæœ¬ (dev-switch.bat)

```batch
@echo off
setlocal enabledelayedexpansion

echo ========================================
echo Verto å¼€å‘ç¯å¢ƒå¿«é€Ÿåˆ‡æ¢
echo ========================================

echo.
echo ğŸ“‹ å¯ç”¨ç¯å¢ƒ:
echo 1. å¼€å‘ç¯å¢ƒ (æœ¬åœ°æ•°æ®åº“)
echo 2. æµ‹è¯•ç¯å¢ƒ (Dockeræ•°æ®åº“)
echo 3. ç”Ÿäº§ç¯å¢ƒ (è¿œç¨‹æ•°æ®åº“)
echo 4. æŸ¥çœ‹å½“å‰ç¯å¢ƒ
echo 0. é€€å‡º

echo.
set /p choice="è¯·é€‰æ‹©ç¯å¢ƒ (0-4): "

if "%choice%"=="1" goto :dev_env
if "%choice%"=="2" goto :test_env
if "%choice%"=="3" goto :prod_env
if "%choice%"=="4" goto :show_current
if "%choice%"=="0" goto :exit
goto :invalid_choice

:dev_env
echo.
echo ğŸ”§ åˆ‡æ¢åˆ°å¼€å‘ç¯å¢ƒ...
echo é…ç½®æœ¬åœ°æ•°æ®åº“è¿æ¥...

:: å¤‡ä»½å½“å‰é…ç½®
copy "jeecg-boot\jeecg-module-system\jeecg-system-start\src\main\resources\application-dev.yml" "jeecg-boot\jeecg-module-system\jeecg-system-start\src\main\resources\application-dev.yml.bak" >nul 2>&1

:: åˆ›å»ºå¼€å‘ç¯å¢ƒé…ç½®
echo # å¼€å‘ç¯å¢ƒé…ç½® > temp_config.yml
echo server: >> temp_config.yml
echo   port: 8080 >> temp_config.yml
echo. >> temp_config.yml
echo spring: >> temp_config.yml
echo   datasource: >> temp_config.yml
echo     url: jdbc:mysql://localhost:3306/verto?useUnicode=true^&characterEncoding=UTF-8^&serverTimezone=GMT%%2B8 >> temp_config.yml
echo     username: root >> temp_config.yml
echo     password: 123456 >> temp_config.yml
echo. >> temp_config.yml
echo   redis: >> temp_config.yml
echo     host: localhost >> temp_config.yml
echo     port: 6379 >> temp_config.yml

copy temp_config.yml "jeecg-boot\jeecg-module-system\jeecg-system-start\src\main\resources\application-dev.yml" >nul 2>&1
del temp_config.yml >nul 2>&1

echo âœ… å¼€å‘ç¯å¢ƒé…ç½®å®Œæˆ
echo æ•°æ®åº“: localhost:3306
echo Redis: localhost:6379
goto :menu

:test_env
echo.
echo ğŸ§ª åˆ‡æ¢åˆ°æµ‹è¯•ç¯å¢ƒ...
echo é…ç½®Dockeræ•°æ®åº“è¿æ¥...

:: åˆ›å»ºæµ‹è¯•ç¯å¢ƒé…ç½®
echo # æµ‹è¯•ç¯å¢ƒé…ç½® > temp_config.yml
echo server: >> temp_config.yml
echo   port: 8080 >> temp_config.yml
echo. >> temp_config.yml
echo spring: >> temp_config.yml
echo   datasource: >> temp_config.yml
echo     url: jdbc:mysql://localhost:3306/verto?useUnicode=true^&characterEncoding=UTF-8^&serverTimezone=GMT%%2B8 >> temp_config.yml
echo     username: verto >> temp_config.yml
echo     password: Verto123456 >> temp_config.yml
echo. >> temp_config.yml
echo   redis: >> temp_config.yml
echo     host: localhost >> temp_config.yml
echo     port: 6379 >> temp_config.yml

copy temp_config.yml "jeecg-boot\jeecg-module-system\jeecg-system-start\src\main\resources\application-dev.yml" >nul 2>&1
del temp_config.yml >nul 2>&1

echo âœ… æµ‹è¯•ç¯å¢ƒé…ç½®å®Œæˆ
echo æ•°æ®åº“: Docker MySQL (localhost:3306)
echo Redis: Docker Redis (localhost:6379)
goto :menu

:prod_env
echo.
echo ğŸš€ åˆ‡æ¢åˆ°ç”Ÿäº§ç¯å¢ƒ...
echo âš ï¸  è¯·æ‰‹åŠ¨é…ç½®ç”Ÿäº§ç¯å¢ƒæ•°æ®åº“è¿æ¥ä¿¡æ¯

echo.
set /p db_host="æ•°æ®åº“ä¸»æœºåœ°å€: "
set /p db_port="æ•°æ®åº“ç«¯å£ (é»˜è®¤3306): "
if "%db_port%"=="" set db_port=3306
set /p db_name="æ•°æ®åº“åç§°: "
set /p db_user="æ•°æ®åº“ç”¨æˆ·å: "
set /p db_pass="æ•°æ®åº“å¯†ç : "
set /p redis_host="Redisä¸»æœºåœ°å€: "
set /p redis_port="Redisç«¯å£ (é»˜è®¤6379): "
if "%redis_port%"=="" set redis_port=6379

:: åˆ›å»ºç”Ÿäº§ç¯å¢ƒé…ç½®
echo # ç”Ÿäº§ç¯å¢ƒé…ç½® > temp_config.yml
echo server: >> temp_config.yml
echo   port: 8080 >> temp_config.yml
echo. >> temp_config.yml
echo spring: >> temp_config.yml
echo   datasource: >> temp_config.yml
echo     url: jdbc:mysql://%db_host%:%db_port%/%db_name%?useUnicode=true^&characterEncoding=UTF-8^&serverTimezone=GMT%%2B8 >> temp_config.yml
echo     username: %db_user% >> temp_config.yml
echo     password: %db_pass% >> temp_config.yml
echo. >> temp_config.yml
echo   redis: >> temp_config.yml
echo     host: %redis_host% >> temp_config.yml
echo     port: %redis_port% >> temp_config.yml

copy temp_config.yml "jeecg-boot\jeecg-module-system\jeecg-system-start\src\main\resources\application-prod.yml" >nul 2>&1
del temp_config.yml >nul 2>&1

echo âœ… ç”Ÿäº§ç¯å¢ƒé…ç½®å®Œæˆ
echo æ•°æ®åº“: %db_host%:%db_port%
echo Redis: %redis_host%:%redis_port%
goto :menu

:show_current
echo.
echo ğŸ“‹ å½“å‰ç¯å¢ƒé…ç½®:
echo.
if exist "jeecg-boot\jeecg-module-system\jeecg-system-start\src\main\resources\application-dev.yml" (
    echo å¼€å‘ç¯å¢ƒé…ç½®:
    findstr /C:"url:" /C:"host:" "jeecg-boot\jeecg-module-system\jeecg-system-start\src\main\resources\application-dev.yml" 2>nul
)
echo.
if exist "jeecg-boot\jeecg-module-system\jeecg-system-start\src\main\resources\application-prod.yml" (
    echo ç”Ÿäº§ç¯å¢ƒé…ç½®:
    findstr /C:"url:" /C:"host:" "jeecg-boot\jeecg-module-system\jeecg-system-start\src\main\resources\application-prod.yml" 2>nul
)
pause
goto :menu

:invalid_choice
echo âŒ æ— æ•ˆé€‰æ‹©ï¼Œè¯·é‡æ–°è¾“å…¥
pause

:menu
echo.
echo æŒ‰ä»»æ„é”®è¿”å›ä¸»èœå•...
pause >nul
cls
goto :start

:exit
echo é€€å‡ºç¯å¢ƒåˆ‡æ¢
exit /b 0

:start
goto :eof
```

### 2. ä»£ç è´¨é‡æ£€æŸ¥è„šæœ¬ (code-quality.bat)

```batch
@echo off
setlocal enabledelayedexpansion

echo ========================================
echo Verto ä»£ç è´¨é‡æ£€æŸ¥
echo ========================================

echo.
echo ğŸ“‹ æ£€æŸ¥é€‰é¡¹:
echo 1. å‰ç«¯ä»£ç æ£€æŸ¥ (ESLint + Prettier)
echo 2. åç«¯ä»£ç æ£€æŸ¥ (Checkstyle + SpotBugs)
echo 3. å®Œæ•´ä»£ç æ£€æŸ¥
echo 4. ä¿®å¤ä»£ç æ ¼å¼
echo 0. é€€å‡º

echo.
set /p choice="è¯·é€‰æ‹©æ£€æŸ¥é€‰é¡¹ (0-4): "

if "%choice%"=="1" goto :frontend_check
if "%choice%"=="2" goto :backend_check
if "%choice%"=="3" goto :full_check
if "%choice%"=="4" goto :fix_format
if "%choice%"=="0" goto :exit
goto :invalid_choice

:frontend_check
echo.
echo ğŸ¨ å‰ç«¯ä»£ç è´¨é‡æ£€æŸ¥...
cd jeecgboot-vue3

echo æ£€æŸ¥ESLinté…ç½®...
if not exist ".eslintrc.js" (
    echo âš ï¸  ESLinté…ç½®æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºé»˜è®¤é…ç½®...
    call :create_eslint_config
)

echo è¿è¡ŒESLintæ£€æŸ¥...
call pnpm run lint
set eslint_result=%errorlevel%

echo è¿è¡ŒPrettieræ ¼å¼æ£€æŸ¥...
call pnpm run format:check
set prettier_result=%errorlevel%

echo è¿è¡Œç±»å‹æ£€æŸ¥...
call pnpm run type-check
set type_result=%errorlevel%

cd ..

echo.
echo ğŸ“Š å‰ç«¯æ£€æŸ¥ç»“æœ:
if %eslint_result% equ 0 (
    echo âœ… ESLintæ£€æŸ¥é€šè¿‡
) else (
    echo âŒ ESLintæ£€æŸ¥å‘ç°é—®é¢˜
)

if %prettier_result% equ 0 (
    echo âœ… ä»£ç æ ¼å¼æ£€æŸ¥é€šè¿‡
) else (
    echo âŒ ä»£ç æ ¼å¼éœ€è¦ä¿®å¤
)

if %type_result% equ 0 (
    echo âœ… TypeScriptç±»å‹æ£€æŸ¥é€šè¿‡
) else (
    echo âŒ TypeScriptç±»å‹æ£€æŸ¥å‘ç°é—®é¢˜
)

pause
goto :menu

:backend_check
echo.
echo â˜• åç«¯ä»£ç è´¨é‡æ£€æŸ¥...
cd jeecg-boot

echo è¿è¡ŒMavenç¼–è¯‘æ£€æŸ¥...
call mvn compile
set compile_result=%errorlevel%

echo è¿è¡ŒCheckstyleæ£€æŸ¥...
call mvn checkstyle:check
set checkstyle_result=%errorlevel%

echo è¿è¡ŒSpotBugsæ£€æŸ¥...
call mvn spotbugs:check
set spotbugs_result=%errorlevel%

echo è¿è¡Œå•å…ƒæµ‹è¯•...
call mvn test
set test_result=%errorlevel%

cd ..

echo.
echo ğŸ“Š åç«¯æ£€æŸ¥ç»“æœ:
if %compile_result% equ 0 (
    echo âœ… ç¼–è¯‘æ£€æŸ¥é€šè¿‡
) else (
    echo âŒ ç¼–è¯‘æ£€æŸ¥å‘ç°é—®é¢˜
)

if %checkstyle_result% equ 0 (
    echo âœ… ä»£ç é£æ ¼æ£€æŸ¥é€šè¿‡
) else (
    echo âŒ ä»£ç é£æ ¼æ£€æŸ¥å‘ç°é—®é¢˜
)

if %spotbugs_result% equ 0 (
    echo âœ… é™æ€åˆ†ææ£€æŸ¥é€šè¿‡
) else (
    echo âŒ é™æ€åˆ†æå‘ç°æ½œåœ¨é—®é¢˜
)

if %test_result% equ 0 (
    echo âœ… å•å…ƒæµ‹è¯•é€šè¿‡
) else (
    echo âŒ å•å…ƒæµ‹è¯•å¤±è´¥
)

pause
goto :menu

:full_check
echo.
echo ğŸ” å®Œæ•´ä»£ç è´¨é‡æ£€æŸ¥...
call :frontend_check_silent
call :backend_check_silent

echo.
echo ğŸ“Š å®Œæ•´æ£€æŸ¥ç»“æœæ±‡æ€»:
echo ========================
echo å‰ç«¯æ£€æŸ¥:
echo - ESLint: %frontend_eslint%
echo - Prettier: %frontend_prettier%
echo - TypeScript: %frontend_type%
echo.
echo åç«¯æ£€æŸ¥:
echo - ç¼–è¯‘: %backend_compile%
echo - Checkstyle: %backend_checkstyle%
echo - SpotBugs: %backend_spotbugs%
echo - å•å…ƒæµ‹è¯•: %backend_test%

pause
goto :menu

:fix_format
echo.
echo ğŸ”§ ä¿®å¤ä»£ç æ ¼å¼...

echo ä¿®å¤å‰ç«¯ä»£ç æ ¼å¼...
cd jeecgboot-vue3
call pnpm run lint:fix
call pnpm run format
cd ..

echo ä¿®å¤åç«¯ä»£ç æ ¼å¼...
cd jeecg-boot
call mvn spotless:apply
cd ..

echo âœ… ä»£ç æ ¼å¼ä¿®å¤å®Œæˆ
pause
goto :menu

:frontend_check_silent
cd jeecgboot-vue3
call pnpm run lint >nul 2>&1
if %errorlevel% equ 0 (set frontend_eslint=âœ… é€šè¿‡) else (set frontend_eslint=âŒ å¤±è´¥)

call pnpm run format:check >nul 2>&1
if %errorlevel% equ 0 (set frontend_prettier=âœ… é€šè¿‡) else (set frontend_prettier=âŒ å¤±è´¥)

call pnpm run type-check >nul 2>&1
if %errorlevel% equ 0 (set frontend_type=âœ… é€šè¿‡) else (set frontend_type=âŒ å¤±è´¥)
cd ..
goto :eof

:backend_check_silent
cd jeecg-boot
call mvn compile >nul 2>&1
if %errorlevel% equ 0 (set backend_compile=âœ… é€šè¿‡) else (set backend_compile=âŒ å¤±è´¥)

call mvn checkstyle:check >nul 2>&1
if %errorlevel% equ 0 (set backend_checkstyle=âœ… é€šè¿‡) else (set backend_checkstyle=âŒ å¤±è´¥)

call mvn spotbugs:check >nul 2>&1
if %errorlevel% equ 0 (set backend_spotbugs=âœ… é€šè¿‡) else (set backend_spotbugs=âŒ å¤±è´¥)

call mvn test >nul 2>&1
if %errorlevel% equ 0 (set backend_test=âœ… é€šè¿‡) else (set backend_test=âŒ å¤±è´¥)
cd ..
goto :eof

:create_eslint_config
echo module.exports = { > .eslintrc.js
echo   root: true, >> .eslintrc.js
echo   env: { >> .eslintrc.js
echo     browser: true, >> .eslintrc.js
echo     es2020: true, >> .eslintrc.js
echo     node: true >> .eslintrc.js
echo   }, >> .eslintrc.js
echo   extends: [ >> .eslintrc.js
echo     'eslint:recommended', >> .eslintrc.js
echo     '@vue/typescript/recommended' >> .eslintrc.js
echo   ], >> .eslintrc.js
echo   rules: { >> .eslintrc.js
echo     'no-console': 'warn', >> .eslintrc.js
echo     'no-debugger': 'warn' >> .eslintrc.js
echo   } >> .eslintrc.js
echo }; >> .eslintrc.js
goto :eof

:invalid_choice
echo âŒ æ— æ•ˆé€‰æ‹©ï¼Œè¯·é‡æ–°è¾“å…¥
pause

:menu
echo.
echo æŒ‰ä»»æ„é”®è¿”å›ä¸»èœå•...
pause >nul
cls
goto :start

:exit
echo é€€å‡ºä»£ç è´¨é‡æ£€æŸ¥
exit /b 0

:start
goto :eof
```

### 3. æ•°æ®åº“ç®¡ç†è„šæœ¬ (database-manager.bat)

```batch
@echo off
setlocal enabledelayedexpansion

echo ========================================
echo Verto æ•°æ®åº“ç®¡ç†å·¥å…·
echo ========================================

echo.
echo ğŸ“‹ ç®¡ç†é€‰é¡¹:
echo 1. åˆå§‹åŒ–æ•°æ®åº“
echo 2. å¤‡ä»½æ•°æ®åº“
echo 3. æ¢å¤æ•°æ®åº“
echo 4. æ‰§è¡ŒSQLè„šæœ¬
echo 5. æ•°æ®åº“çŠ¶æ€æ£€æŸ¥
echo 6. æ¸…ç†æµ‹è¯•æ•°æ®
echo 0. é€€å‡º

echo.
set /p choice="è¯·é€‰æ‹©ç®¡ç†é€‰é¡¹ (0-6): "

if "%choice%"=="1" goto :init_db
if "%choice%"=="2" goto :backup_db
if "%choice%"=="3" goto :restore_db
if "%choice%"=="4" goto :execute_sql
if "%choice%"=="5" goto :check_status
if "%choice%"=="6" goto :cleanup_test
if "%choice%"=="0" goto :exit
goto :invalid_choice

:init_db
echo.
echo ğŸ—„ï¸  åˆå§‹åŒ–æ•°æ®åº“...

echo æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€...
docker ps | findstr verto-mysql >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ MySQLå®¹å™¨æœªè¿è¡Œï¼Œè¯·å…ˆå¯åŠ¨DevOpsç¯å¢ƒ
    pause
    goto :menu
)

echo åˆ›å»ºæ•°æ®åº“...
docker exec verto-mysql mysql -u root -pVerto123456 -e "CREATE DATABASE IF NOT EXISTS verto CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"

echo æ£€æŸ¥åˆå§‹åŒ–è„šæœ¬...
if exist "jeecg-boot\db\jeecgboot-mysql-5.7.sql" (
    echo æ‰§è¡Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬...
    docker exec -i verto-mysql mysql -u root -pVerto123456 verto < "jeecg-boot\db\jeecgboot-mysql-5.7.sql"
    if !errorlevel! equ 0 (
        echo âœ… æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ
    ) else (
        echo âŒ æ•°æ®åº“åˆå§‹åŒ–å¤±è´¥
    )
) else (
    echo âš ï¸  æœªæ‰¾åˆ°åˆå§‹åŒ–è„šæœ¬ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶è·¯å¾„
)

pause
goto :menu

:backup_db
echo.
echo ğŸ’¾ å¤‡ä»½æ•°æ®åº“...

set "backup_date=%date:~0,4%%date:~5,2%%date:~8,2%_%time:~0,2%%time:~3,2%%time:~6,2%"
set "backup_date=%backup_date: =0%"
set "backup_file=db_backup_%backup_date%.sql"

echo æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€...
docker ps | findstr verto-mysql >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ MySQLå®¹å™¨æœªè¿è¡Œï¼Œè¯·å…ˆå¯åŠ¨DevOpsç¯å¢ƒ
    pause
    goto :menu
)

echo åˆ›å»ºå¤‡ä»½ç›®å½•...
if not exist "database_backups" mkdir database_backups

echo æ‰§è¡Œæ•°æ®åº“å¤‡ä»½...
docker exec verto-mysql mysqldump -u root -pVerto123456 --single-transaction --routines --triggers verto > "database_backups\%backup_file%"

if %errorlevel% equ 0 (
    echo âœ… æ•°æ®åº“å¤‡ä»½æˆåŠŸ
    echo å¤‡ä»½æ–‡ä»¶: database_backups\%backup_file%
) else (
    echo âŒ æ•°æ®åº“å¤‡ä»½å¤±è´¥
)

pause
goto :menu

:restore_db
echo.
echo ğŸ”„ æ¢å¤æ•°æ®åº“...

echo å¯ç”¨çš„å¤‡ä»½æ–‡ä»¶:
set backup_count=0
for %%f in (database_backups\*.sql) do (
    set /a backup_count+=1
    echo !backup_count!. %%f
    set backup_!backup_count!=%%f
)

if %backup_count% equ 0 (
    echo âŒ æœªæ‰¾åˆ°å¤‡ä»½æ–‡ä»¶
    pause
    goto :menu
)

echo.
set /p backup_choice="è¯·é€‰æ‹©è¦æ¢å¤çš„å¤‡ä»½ (1-%backup_count%): "

if %backup_choice% lss 1 goto :invalid_backup
if %backup_choice% gtr %backup_count% goto :invalid_backup

call set selected_backup=%%backup_%backup_choice%%%

echo.
echo âš ï¸  è­¦å‘Š: æ¢å¤æ“ä½œå°†è¦†ç›–ç°æœ‰æ•°æ®ï¼
set /p confirm="ç¡®è®¤æ¢å¤å¤‡ä»½ %selected_backup%? (y/N): "
if /i not "%confirm%"=="y" (
    echo æ¢å¤å·²å–æ¶ˆ
    pause
    goto :menu
)

echo æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€...
docker ps | findstr verto-mysql >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ MySQLå®¹å™¨æœªè¿è¡Œï¼Œè¯·å…ˆå¯åŠ¨DevOpsç¯å¢ƒ
    pause
    goto :menu
)

echo æ¢å¤æ•°æ®åº“...
docker exec -i verto-mysql mysql -u root -pVerto123456 verto < "%selected_backup%"

if %errorlevel% equ 0 (
    echo âœ… æ•°æ®åº“æ¢å¤æˆåŠŸ
) else (
    echo âŒ æ•°æ®åº“æ¢å¤å¤±è´¥
)

pause
goto :menu

:execute_sql
echo.
echo ğŸ“ æ‰§è¡ŒSQLè„šæœ¬...

echo å¯ç”¨çš„SQLè„šæœ¬:
set sql_count=0
for %%f in (*.sql jeecg-boot\db\*.sql) do (
    set /a sql_count+=1
    echo !sql_count!. %%f
    set sql_!sql_count!=%%f
)

if %sql_count% equ 0 (
    echo âŒ æœªæ‰¾åˆ°SQLè„šæœ¬æ–‡ä»¶
    pause
    goto :menu
)

echo.
set /p sql_choice="è¯·é€‰æ‹©è¦æ‰§è¡Œçš„SQLè„šæœ¬ (1-%sql_count%): "

if %sql_choice% lss 1 goto :invalid_sql
if %sql_choice% gtr %sql_count% goto :invalid_sql

call set selected_sql=%%sql_%sql_choice%%%

echo.
echo å°†æ‰§è¡ŒSQLè„šæœ¬: %selected_sql%
set /p confirm="ç¡®è®¤æ‰§è¡Œ? (y/N): "
if /i not "%confirm%"=="y" (
    echo æ‰§è¡Œå·²å–æ¶ˆ
    pause
    goto :menu
)

echo æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€...
docker ps | findstr verto-mysql >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ MySQLå®¹å™¨æœªè¿è¡Œï¼Œè¯·å…ˆå¯åŠ¨DevOpsç¯å¢ƒ
    pause
    goto :menu
)

echo æ‰§è¡ŒSQLè„šæœ¬...
docker exec -i verto-mysql mysql -u root -pVerto123456 verto < "%selected_sql%"

if %errorlevel% equ 0 (
    echo âœ… SQLè„šæœ¬æ‰§è¡ŒæˆåŠŸ
) else (
    echo âŒ SQLè„šæœ¬æ‰§è¡Œå¤±è´¥
)

pause
goto :menu

:check_status
echo.
echo ğŸ“Š æ•°æ®åº“çŠ¶æ€æ£€æŸ¥...

echo æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€...
docker ps | findstr verto-mysql >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ MySQLå®¹å™¨æœªè¿è¡Œ
    pause
    goto :menu
)

echo âœ… MySQLå®¹å™¨è¿è¡Œæ­£å¸¸

echo.
echo æ•°æ®åº“è¿æ¥æµ‹è¯•...
docker exec verto-mysql mysql -u root -pVerto123456 -e "SELECT 'Database connection successful' as status;"

echo.
echo æ•°æ®åº“ä¿¡æ¯...
docker exec verto-mysql mysql -u root -pVerto123456 -e "SHOW DATABASES;"

echo.
echo Vertoæ•°æ®åº“è¡¨ä¿¡æ¯...
docker exec verto-mysql mysql -u root -pVerto123456 verto -e "SHOW TABLES;" 2>nul

echo.
echo æ•°æ®åº“å¤§å°...
docker exec verto-mysql mysql -u root -pVerto123456 -e "SELECT table_schema AS 'Database', ROUND(SUM(data_length + index_length) / 1024 / 1024, 2) AS 'Size (MB)' FROM information_schema.tables WHERE table_schema = 'verto' GROUP BY table_schema;"

pause
goto :menu

:cleanup_test
echo.
echo ğŸ§¹ æ¸…ç†æµ‹è¯•æ•°æ®...

echo âš ï¸  è­¦å‘Š: è¿™å°†åˆ é™¤æ‰€æœ‰æµ‹è¯•æ•°æ®ï¼
set /p confirm="ç¡®è®¤æ¸…ç†æµ‹è¯•æ•°æ®? (y/N): "
if /i not "%confirm%"=="y" (
    echo æ¸…ç†å·²å–æ¶ˆ
    pause
    goto :menu
)

echo æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€...
docker ps | findstr verto-mysql >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ MySQLå®¹å™¨æœªè¿è¡Œï¼Œè¯·å…ˆå¯åŠ¨DevOpsç¯å¢ƒ
    pause
    goto :menu
)

echo æ¸…ç†æµ‹è¯•æ•°æ®...
docker exec verto-mysql mysql -u root -pVerto123456 verto -e "DELETE FROM sys_log WHERE create_time < DATE_SUB(NOW(), INTERVAL 7 DAY);"
docker exec verto-mysql mysql -u root -pVerto123456 verto -e "DELETE FROM sys_data_log WHERE create_time < DATE_SUB(NOW(), INTERVAL 7 DAY);"

echo âœ… æµ‹è¯•æ•°æ®æ¸…ç†å®Œæˆ

pause
goto :menu

:invalid_backup
echo âŒ æ— æ•ˆçš„å¤‡ä»½é€‰æ‹©
pause
goto :menu

:invalid_sql
echo âŒ æ— æ•ˆçš„SQLè„šæœ¬é€‰æ‹©
pause
goto :menu

:invalid_choice
echo âŒ æ— æ•ˆé€‰æ‹©ï¼Œè¯·é‡æ–°è¾“å…¥
pause

:menu
echo.
echo æŒ‰ä»»æ„é”®è¿”å›ä¸»èœå•...
pause >nul
cls
goto :start

:exit
echo é€€å‡ºæ•°æ®åº“ç®¡ç†å·¥å…·
exit /b 0

:start
goto :eof
```

---

## ğŸ“š ä½¿ç”¨è¯´æ˜

### ğŸš€ å¿«é€Ÿå¼€å§‹

1. **ç¯å¢ƒåˆå§‹åŒ–**
   ```batch
   # é¦–æ¬¡ä½¿ç”¨ï¼Œåˆå§‹åŒ–ç¯å¢ƒ
   init-environment.bat
   ```

2. **å¯åŠ¨æœåŠ¡**
   ```batch
   # å¯åŠ¨DevOpsç¯å¢ƒ
   start-devops.bat
   
   # å¯åŠ¨åº”ç”¨æœåŠ¡
   start-app.bat
   ```

3. **ç›‘æ§æœåŠ¡**
   ```batch
   # å®æ—¶ç›‘æ§
   monitor-realtime.bat
   
   # å¥åº·æ£€æŸ¥
   health-check.bat
   ```

### ğŸ”§ ç»´æŠ¤æ“ä½œ

1. **å¤‡ä»½æ•°æ®**
   ```batch
   # å®Œæ•´å¤‡ä»½
   backup-data.bat
   
   # æ•°æ®åº“å¤‡ä»½
   database-manager.bat
   ```

2. **æ¸…ç†ç³»ç»Ÿ**
   ```batch
   # ç³»ç»Ÿæ¸…ç†
   cleanup-system.bat
   ```

3. **ä»£ç è´¨é‡**
   ```batch
   # ä»£ç æ£€æŸ¥
   code-quality.bat
   ```

### ğŸ“‹ è„šæœ¬è¯´æ˜

| è„šæœ¬ç±»å‹ | è„šæœ¬åç§° | åŠŸèƒ½æè¿° |
|---------|---------|---------|
| ç¯å¢ƒç®¡ç† | init-environment.bat | ç¯å¢ƒåˆå§‹åŒ– |
| ç¯å¢ƒç®¡ç† | check-environment.bat | ç¯å¢ƒæ£€æŸ¥ |
| ç¯å¢ƒç®¡ç† | health-check.bat | æœåŠ¡å¥åº·æ£€æŸ¥ |
| éƒ¨ç½²è„šæœ¬ | deploy-all.bat | ä¸€é”®éƒ¨ç½² |
| éƒ¨ç½²è„šæœ¬ | start-app.bat | å¯åŠ¨åº”ç”¨ |
| éƒ¨ç½²è„šæœ¬ | stop-app.bat | åœæ­¢åº”ç”¨ |
| ç›‘æ§è„šæœ¬ | monitor-realtime.bat | å®æ—¶ç›‘æ§ |
| ç›‘æ§è„šæœ¬ | monitor-performance.bat | æ€§èƒ½ç›‘æ§ |
| ç›‘æ§è„šæœ¬ | monitor-logs.bat | æ—¥å¿—ç›‘æ§ |
| å¤‡ä»½è„šæœ¬ | backup-data.bat | æ•°æ®å¤‡ä»½ |
| å¤‡ä»½è„šæœ¬ | restore-data.bat | æ•°æ®æ¢å¤ |
| æ¸…ç†è„šæœ¬ | cleanup-system.bat | ç³»ç»Ÿæ¸…ç† |
| å¼€å‘è¾…åŠ© | dev-switch.bat | ç¯å¢ƒåˆ‡æ¢ |
| å¼€å‘è¾…åŠ© | code-quality.bat | ä»£ç è´¨é‡æ£€æŸ¥ |
| å¼€å‘è¾…åŠ© | database-manager.bat | æ•°æ®åº“ç®¡ç† |

### âš ï¸ æ³¨æ„äº‹é¡¹

1. **æƒé™è¦æ±‚**: æŸäº›è„šæœ¬éœ€è¦ç®¡ç†å‘˜æƒé™
2. **ä¾èµ–æ£€æŸ¥**: è¿è¡Œå‰ç¡®ä¿Dockerå’Œç›¸å…³å·¥å…·å·²å®‰è£…
3. **æ•°æ®å®‰å…¨**: å¤‡ä»½é‡è¦æ•°æ®åå†æ‰§è¡Œæ¸…ç†æ“ä½œ
4. **ç½‘ç»œè¿æ¥**: ç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸ï¼Œç”¨äºä¸‹è½½é•œåƒ
5. **èµ„æºç›‘æ§**: å®šæœŸæ£€æŸ¥ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ

### ğŸ†˜ æ•…éšœæ’é™¤

å¦‚æœè„šæœ¬æ‰§è¡Œå‡ºç°é—®é¢˜ï¼Œè¯·ï¼š

1. æ£€æŸ¥ç³»ç»Ÿç¯å¢ƒå’Œä¾èµ–
2. æŸ¥çœ‹è„šæœ¬è¾“å‡ºçš„é”™è¯¯ä¿¡æ¯
3. å‚è€ƒ `æ•…éšœæ’é™¤æ‰‹å†Œ.md`
4. ä½¿ç”¨ `check-environment.bat` è¯Šæ–­ç¯å¢ƒ

### ğŸ“ è·å–å¸®åŠ©

- æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£: `README-DevOps.md`
- å¿«é€Ÿå¯åŠ¨: `å¿«é€Ÿå¯åŠ¨æŒ‡å—.md`
- æ•…éšœæ’é™¤: `æ•…éšœæ’é™¤æ‰‹å†Œ.md`
- é¡¹ç›®é›†æˆ: `é¡¹ç›®é›†æˆæŒ‡å—.md`

---

**ğŸ‰ ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼**