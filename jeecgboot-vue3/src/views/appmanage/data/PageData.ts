import { BasicColumn } from '/@/components/Table';
import { FormSchema } from '/@/components/Form';

// 页面列表表格列配置
export const pageColumns: BasicColumn[] = [
  {
    title: '页面名称',
    dataIndex: 'name',
    width: 150,
    sorter: true,
  },
  {
    title: '页面路径',
    dataIndex: 'path',
    width: 200,
  },
  {
    title: '页面类型',
    dataIndex: 'pageType',
    width: 120,
  },
  {
    title: '状态',
    dataIndex: 'status',
    width: 100,
  },
  {
    title: '访问量',
    dataIndex: 'visitCount',
    width: 100,
    sorter: true,
  },
  {
    title: '创建时间',
    dataIndex: 'createTime',
    width: 180,
    sorter: true,
  },
  {
    title: '更新时间',
    dataIndex: 'updateTime',
    width: 180,
    sorter: true,
  },
  {
    title: '操作',
    dataIndex: 'action',
    width: 160,
    fixed: 'right',
  },
];

// 页面表单配置
export const pageFormSchema: FormSchema[] = [
  {
    field: 'name',
    label: '页面名称',
    component: 'Input',
    required: true,
    componentProps: {
      placeholder: '请输入页面名称',
    },
    rules: [{ required: true, message: '请输入页面名称' }],
  },
  {
    field: 'path',
    label: '页面路径',
    component: 'Input',
    required: true,
    componentProps: {
      placeholder: '请输入页面路径，如：/user/list',
    },
    rules: [
      { required: true, message: '请输入页面路径' },
      { pattern: /^\/[a-zA-Z0-9/_-]*$/, message: '页面路径格式不正确' },
    ],
  },
  {
    field: 'pageType',
    label: '页面类型',
    component: 'Select',
    required: true,
    componentProps: {
      options: [
        { label: '列表页', value: 'list' },
        { label: '表单页', value: 'form' },
        { label: '详情页', value: 'detail' },
        { label: '仪表板', value: 'dashboard' },
        { label: '自定义页', value: 'custom' },
      ],
    },
    rules: [{ required: true, message: '请选择页面类型' }],
  },
  {
    field: 'description',
    label: '页面描述',
    component: 'InputTextArea',
    componentProps: {
      placeholder: '请输入页面描述',
      rows: 3,
    },
  },
  {
    field: 'status',
    label: '状态',
    component: 'RadioButtonGroup',
    defaultValue: 'draft',
    componentProps: {
      options: [
        { label: '草稿', value: 'draft' },
        { label: '已发布', value: 'published' },
        { label: '已下线', value: 'offline' },
      ],
    },
  },
  {
    field: 'isMenu',
    label: '显示在菜单',
    component: 'Switch',
    defaultValue: true,
  },
  {
    field: 'menuIcon',
    label: '菜单图标',
    component: 'IconPicker',
    ifShow: ({ values }) => values.isMenu,
    componentProps: {
      placeholder: '请选择菜单图标',
    },
  },
  {
    field: 'menuSort',
    label: '菜单排序',
    component: 'InputNumber',
    defaultValue: 0,
    ifShow: ({ values }) => values.isMenu,
    componentProps: {
      placeholder: '请输入排序值',
    },
  },
  {
    field: 'permissions',
    label: '访问权限',
    component: 'Select',
    componentProps: {
      mode: 'multiple',
      options: [
        { label: '查看', value: 'view' },
        { label: '新增', value: 'add' },
        { label: '编辑', value: 'edit' },
        { label: '删除', value: 'delete' },
        { label: '导出', value: 'export' },
        { label: '导入', value: 'import' },
      ],
      placeholder: '请选择访问权限',
    },
  },
  {
    field: 'cacheEnabled',
    label: '启用缓存',
    component: 'Switch',
    defaultValue: false,
  },
  {
    field: 'cacheTime',
    label: '缓存时间(分钟)',
    component: 'InputNumber',
    defaultValue: 30,
    ifShow: ({ values }) => values.cacheEnabled,
    componentProps: {
      min: 1,
      max: 1440,
      placeholder: '请输入缓存时间',
    },
  },
  {
    field: 'config',
    label: '页面配置',
    component: 'CodeEditor',
    ifShow: ({ values }) => values.pageType === 'custom',
    componentProps: {
      mode: 'json',
      placeholder: '请输入页面配置JSON',
    },
  },
];

// 页面模拟数据
export const pageData = [
  {
    id: '1',
    name: '用户管理',
    path: '/system/user',
    pageType: 'list',
    description: '系统用户管理页面',
    status: 'published',
    isMenu: true,
    menuIcon: 'ant-design:user-outlined',
    menuSort: 1,
    permissions: ['view', 'add', 'edit', 'delete'],
    cacheEnabled: true,
    cacheTime: 30,
    visitCount: 1250,
    createTime: '2024-01-15 10:30:00',
    updateTime: '2024-01-20 14:20:00',
  },
  {
    id: '2',
    name: '角色管理',
    path: '/system/role',
    pageType: 'list',
    description: '系统角色管理页面',
    status: 'published',
    isMenu: true,
    menuIcon: 'ant-design:team-outlined',
    menuSort: 2,
    permissions: ['view', 'add', 'edit', 'delete'],
    cacheEnabled: false,
    visitCount: 890,
    createTime: '2024-01-15 10:35:00',
    updateTime: '2024-01-18 16:45:00',
  },
  {
    id: '3',
    name: '权限管理',
    path: '/system/permission',
    pageType: 'list',
    description: '系统权限管理页面',
    status: 'published',
    isMenu: true,
    menuIcon: 'ant-design:safety-certificate-outlined',
    menuSort: 3,
    permissions: ['view', 'add', 'edit', 'delete'],
    cacheEnabled: true,
    cacheTime: 60,
    visitCount: 567,
    createTime: '2024-01-15 10:40:00',
    updateTime: '2024-01-19 11:30:00',
  },
  {
    id: '4',
    name: '用户详情',
    path: '/system/user/detail/:id',
    pageType: 'detail',
    description: '用户详情页面',
    status: 'published',
    isMenu: false,
    permissions: ['view'],
    cacheEnabled: true,
    cacheTime: 15,
    visitCount: 2340,
    createTime: '2024-01-15 11:00:00',
    updateTime: '2024-01-20 09:15:00',
  },
  {
    id: '5',
    name: '数据统计',
    path: '/dashboard/statistics',
    pageType: 'dashboard',
    description: '数据统计仪表板',
    status: 'published',
    isMenu: true,
    menuIcon: 'ant-design:bar-chart-outlined',
    menuSort: 10,
    permissions: ['view'],
    cacheEnabled: true,
    cacheTime: 5,
    visitCount: 3450,
    createTime: '2024-01-16 09:20:00',
    updateTime: '2024-01-21 15:30:00',
  },
  {
    id: '6',
    name: '个人设置',
    path: '/profile/settings',
    pageType: 'form',
    description: '个人设置页面',
    status: 'published',
    isMenu: false,
    permissions: ['view', 'edit'],
    cacheEnabled: false,
    visitCount: 1890,
    createTime: '2024-01-16 14:15:00',
    updateTime: '2024-01-20 10:45:00',
  },
  {
    id: '7',
    name: '自定义报表',
    path: '/report/custom',
    pageType: 'custom',
    description: '自定义报表页面',
    status: 'draft',
    isMenu: true,
    menuIcon: 'ant-design:file-text-outlined',
    menuSort: 20,
    permissions: ['view', 'export'],
    cacheEnabled: true,
    cacheTime: 120,
    config: JSON.stringify({
      layout: 'grid',
      columns: 3,
      widgets: [
        { type: 'chart', title: '销售趋势' },
        { type: 'table', title: '数据列表' },
        { type: 'card', title: '统计卡片' },
      ],
    }, null, 2),
    visitCount: 234,
    createTime: '2024-01-17 16:30:00',
    updateTime: '2024-01-19 13:20:00',
  },
  {
    id: '8',
    name: '系统日志',
    path: '/system/logs',
    pageType: 'list',
    description: '系统操作日志页面',
    status: 'offline',
    isMenu: true,
    menuIcon: 'ant-design:file-search-outlined',
    menuSort: 30,
    permissions: ['view'],
    cacheEnabled: false,
    visitCount: 456,
    createTime: '2024-01-18 11:45:00',
    updateTime: '2024-01-20 17:00:00',
  },
];